<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AXStorage: ax_storage.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="axis-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AXStorage
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('ax__storage_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ax_storage.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The AXStorage library is an Edge Storage interface which contains functions for accessing the Axis product's Edge storage.  
<a href="#details">More...</a></p>

<p><a href="ax__storage_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:aa14f17bf10b2dcc57d1ca16759da9b8f"><td class="memItemLeft" align="right" valign="top"><a id="aa14f17bf10b2dcc57d1ca16759da9b8f"></a>
typedef typedefG_BEGIN_DECLS struct _AXStorage&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a></td></tr>
<tr class="memdesc:aa14f17bf10b2dcc57d1ca16759da9b8f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Opaque structure for the AXStorage. <br /></td></tr>
<tr class="separator:aa14f17bf10b2dcc57d1ca16759da9b8f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4d25206144b2a83732a36c6318fc3a9d"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#a4d25206144b2a83732a36c6318fc3a9d">AXStorageSubscriptionCallback</a>) (gchar *storage_id, gpointer user_data, GError *error)</td></tr>
<tr class="separator:a4d25206144b2a83732a36c6318fc3a9d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b36ff51851a53a057c09e97df2c8e71"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#a8b36ff51851a53a057c09e97df2c8e71">AXStorageSetupCallback</a>) (<a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a> *storage, gpointer user_data, GError *error)</td></tr>
<tr class="separator:a8b36ff51851a53a057c09e97df2c8e71"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a47fa45876e2783081f7c6c352d0904c1"><td class="memItemLeft" align="right" valign="top">typedef void(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#a47fa45876e2783081f7c6c352d0904c1">AXStorageReleaseCallback</a>) (gpointer user_data, GError *error)</td></tr>
<tr class="separator:a47fa45876e2783081f7c6c352d0904c1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a24a6342f43a2463681f58f282cbf41a2"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#a24a6342f43a2463681f58f282cbf41a2">AXStorageStatusEventId</a> { <br />
&#160;&#160;<a class="el" href="ax__storage_8h.html#a24a6342f43a2463681f58f282cbf41a2a1a18cd0f92f18da4942daf6b9148dca5">AX_STORAGE_AVAILABLE_EVENT</a>
, <a class="el" href="ax__storage_8h.html#a24a6342f43a2463681f58f282cbf41a2a8189128989618bf40ef9ba491392ba61">AX_STORAGE_EXITING_EVENT</a>
, <a class="el" href="ax__storage_8h.html#a24a6342f43a2463681f58f282cbf41a2adecc4258ba5f99a81dcda0d28df71894">AX_STORAGE_WRITABLE_EVENT</a>
, <a class="el" href="ax__storage_8h.html#a24a6342f43a2463681f58f282cbf41a2a305d2493c1c63afbec9ccf9733ce3cfa">AX_STORAGE_FULL_EVENT</a>
, <br />
&#160;&#160;<a class="el" href="ax__storage_8h.html#a24a6342f43a2463681f58f282cbf41a2a3d714c13541d46a3e92b10a7a31a38a9">AX_STORAGE_STATUS_EVENT_ID_END</a>
<br />
 }</td></tr>
<tr class="separator:a24a6342f43a2463681f58f282cbf41a2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7ddcacc73d86ef686018ed8725535a51"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#a7ddcacc73d86ef686018ed8725535a51">AXStorageType</a> { <b>LOCAL_TYPE</b>
, <b>EXTERNAL_TYPE</b>
, <b>UNKNOWN_TYPE</b>
 }</td></tr>
<tr class="separator:a7ddcacc73d86ef686018ed8725535a51"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aa32bdb91706c44a86071c1c14889536f"><td class="memItemLeft" align="right" valign="top">GList *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#aa32bdb91706c44a86071c1c14889536f">ax_storage_list</a> (GError **error)</td></tr>
<tr class="memdesc:aa32bdb91706c44a86071c1c14889536f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Lists all connected storage devices. The returned list and its members must be freed by the caller. Use g_free for the members and g_list_free for the list.  <a href="ax__storage_8h.html#aa32bdb91706c44a86071c1c14889536f">More...</a><br /></td></tr>
<tr class="separator:aa32bdb91706c44a86071c1c14889536f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae64f800e6d88b54cf68cce925bb16312"><td class="memItemLeft" align="right" valign="top">guint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#ae64f800e6d88b54cf68cce925bb16312">ax_storage_subscribe</a> (gchar *storage_id, <a class="el" href="ax__storage_8h.html#a4d25206144b2a83732a36c6318fc3a9d">AXStorageSubscriptionCallback</a> callback, gpointer user_data, GError **error)</td></tr>
<tr class="separator:ae64f800e6d88b54cf68cce925bb16312"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a49676a4baae47e9407f3641fefcd365c"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#a49676a4baae47e9407f3641fefcd365c">ax_storage_unsubscribe</a> (guint id, GError **error)</td></tr>
<tr class="memdesc:a49676a4baae47e9407f3641fefcd365c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop subscribing to storage events.  <a href="ax__storage_8h.html#a49676a4baae47e9407f3641fefcd365c">More...</a><br /></td></tr>
<tr class="separator:a49676a4baae47e9407f3641fefcd365c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abb7bf1c1cab1961dc4c2fffedaaa73cd"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#abb7bf1c1cab1961dc4c2fffedaaa73cd">ax_storage_setup_async</a> (gchar *storage_id, <a class="el" href="ax__storage_8h.html#a8b36ff51851a53a057c09e97df2c8e71">AXStorageSetupCallback</a> callback, gpointer user_data, GError **error)</td></tr>
<tr class="separator:abb7bf1c1cab1961dc4c2fffedaaa73cd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a27909ecc692b78af43ce23bf0369fe95"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#a27909ecc692b78af43ce23bf0369fe95">ax_storage_release_async</a> (<a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a> *storage, <a class="el" href="ax__storage_8h.html#a47fa45876e2783081f7c6c352d0904c1">AXStorageReleaseCallback</a> callback, gpointer user_data, GError **error)</td></tr>
<tr class="separator:a27909ecc692b78af43ce23bf0369fe95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a821ec183a5d9aa227a1f7aaf34490f42"><td class="memItemLeft" align="right" valign="top">gchar *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#a821ec183a5d9aa227a1f7aaf34490f42">ax_storage_get_path</a> (<a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a> *storage, GError **error)</td></tr>
<tr class="separator:a821ec183a5d9aa227a1f7aaf34490f42"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab9e6508ae1fbdf1b4a799763cc6546da"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#ab9e6508ae1fbdf1b4a799763cc6546da">ax_storage_get_status</a> (gchar *storage_id, <a class="el" href="ax__storage_8h.html#a24a6342f43a2463681f58f282cbf41a2">AXStorageStatusEventId</a> event, GError **error)</td></tr>
<tr class="separator:ab9e6508ae1fbdf1b4a799763cc6546da"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3641678e98f8f23ce25e17f8b10f8f6d"><td class="memItemLeft" align="right" valign="top">gchar *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#a3641678e98f8f23ce25e17f8b10f8f6d">ax_storage_get_storage_id</a> (<a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a> *storage, GError **error)</td></tr>
<tr class="separator:a3641678e98f8f23ce25e17f8b10f8f6d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9466aecbb946b9d5a0701733cebaff93"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ax__storage_8h.html#a7ddcacc73d86ef686018ed8725535a51">AXStorageType</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__storage_8h.html#a9466aecbb946b9d5a0701733cebaff93">ax_storage_get_type</a> (<a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a> *storage, GError **error)</td></tr>
<tr class="separator:a9466aecbb946b9d5a0701733cebaff93"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The AXStorage library is an Edge Storage interface which contains functions for accessing the Axis product's Edge storage. </p>
<p>The error parameter of the methods can be NULL to ignore errors or non-NULL to get errors reported. The API sets the error parameters in case something went wrong and the error parameter is non-NULL. </p>
</div><h2 class="groupheader">Typedef Documentation</h2>
<a id="a4d25206144b2a83732a36c6318fc3a9d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4d25206144b2a83732a36c6318fc3a9d">&#9670;&nbsp;</a></span>AXStorageSubscriptionCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* AXStorageSubscriptionCallback) (gchar *storage_id, gpointer user_data, GError *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The callback for events from a subscribed storage. It will be called when events change status.</p>
<p>To get status of the different events, use the ax_storage_get_status method!</p>
<p>Note that it is not an error if this method gets called when it appears none of the (known) events have changed state!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage_id</td><td>The storage that triggered this callback. </td></tr>
    <tr><td class="paramname">user_data</td><td>User data from ax_storage_subscribe. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a8b36ff51851a53a057c09e97df2c8e71"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b36ff51851a53a057c09e97df2c8e71">&#9670;&nbsp;</a></span>AXStorageSetupCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* AXStorageSetupCallback) (<a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a> *storage, gpointer user_data, GError *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Callback for setup. When the storage is setup for use, an application specific directory has been created on the storage. The path can be retrieved by the ax_storage_get_path method, using the AXStorage that is received in this callback as input parameter.</p>
<p>The AXStorage that is received in this callback is the one to use in every method which takes an AXStorage pointer as input parameter.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage</td><td>The storage to use. </td></tr>
    <tr><td class="paramname">user_data</td><td>User data from ax_storage_setup_async. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a47fa45876e2783081f7c6c352d0904c1"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a47fa45876e2783081f7c6c352d0904c1">&#9670;&nbsp;</a></span>AXStorageReleaseCallback</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef void(* AXStorageReleaseCallback) (gpointer user_data, GError *error)</td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The callback for asynchronous release. The release is successful if error parameter is NULL.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">user_data</td><td>User data from ax_storage_release_async. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a24a6342f43a2463681f58f282cbf41a2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a24a6342f43a2463681f58f282cbf41a2">&#9670;&nbsp;</a></span>AXStorageStatusEventId</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ax__storage_8h.html#a24a6342f43a2463681f58f282cbf41a2">AXStorageStatusEventId</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The list of events for AXStorage </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a24a6342f43a2463681f58f282cbf41a2a1a18cd0f92f18da4942daf6b9148dca5"></a>AX_STORAGE_AVAILABLE_EVENT&#160;</td><td class="fielddoc"><p>Event for when storage becomes available and unavailable. </p>
</td></tr>
<tr><td class="fieldname"><a id="a24a6342f43a2463681f58f282cbf41a2a8189128989618bf40ef9ba491392ba61"></a>AX_STORAGE_EXITING_EVENT&#160;</td><td class="fielddoc"><p>Event for when storage is about to exit, that's when client <em>must</em> stop using storage. </p>
</td></tr>
<tr><td class="fieldname"><a id="a24a6342f43a2463681f58f282cbf41a2adecc4258ba5f99a81dcda0d28df71894"></a>AX_STORAGE_WRITABLE_EVENT&#160;</td><td class="fielddoc"><p>Event for when storage becomes writable or readonly. </p>
</td></tr>
<tr><td class="fieldname"><a id="a24a6342f43a2463681f58f282cbf41a2a305d2493c1c63afbec9ccf9733ce3cfa"></a>AX_STORAGE_FULL_EVENT&#160;</td><td class="fielddoc"><p>Event for when storage becomes full and when there is free space again. When storage becomes full client <em>must not</em> write more data to it, it's only ok to remove data. </p>
</td></tr>
<tr><td class="fieldname"><a id="a24a6342f43a2463681f58f282cbf41a2a3d714c13541d46a3e92b10a7a31a38a9"></a>AX_STORAGE_STATUS_EVENT_ID_END&#160;</td><td class="fielddoc"><p>Placeholder, do not use </p>
</td></tr>
</table>

</div>
</div>
<a id="a7ddcacc73d86ef686018ed8725535a51"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7ddcacc73d86ef686018ed8725535a51">&#9670;&nbsp;</a></span>AXStorageType</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ax__storage_8h.html#a7ddcacc73d86ef686018ed8725535a51">AXStorageType</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>The type of storage </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aa32bdb91706c44a86071c1c14889536f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa32bdb91706c44a86071c1c14889536f">&#9670;&nbsp;</a></span>ax_storage_list()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GList* ax_storage_list </td>
          <td>(</td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Lists all connected storage devices. The returned list and its members must be freed by the caller. Use g_free for the members and g_list_free for the list. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>Return location for error, or NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A GList of allocated storage_id strings representing the connected edge storage devices or NULL in case there were no storage connected or something went wrong. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ax_storage_example_8c-example.html#a12">ax_storage_example.c</a>.</dd>
</dl>

</div>
</div>
<a id="ae64f800e6d88b54cf68cce925bb16312"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae64f800e6d88b54cf68cce925bb16312">&#9670;&nbsp;</a></span>ax_storage_subscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">guint ax_storage_subscribe </td>
          <td>(</td>
          <td class="paramtype">gchar *&#160;</td>
          <td class="paramname"><em>storage_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ax__storage_8h.html#a4d25206144b2a83732a36c6318fc3a9d">AXStorageSubscriptionCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Subscribe to storage events for the provided storage.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage_id</td><td>The specific storage to subscribe events for. </td></tr>
    <tr><td class="paramname">callback</td><td>The callback to call when event occur. </td></tr>
    <tr><td class="paramname">user_data</td><td>Custom data that will be passed to the AXStorageSubscriptionCallback. The caller is responsible for freeing this memory. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>0 if there was an error, then error parameter is set, else subscription was successful and the returned id can be used in calls to ax_storage_unsubscribe to end the subscription. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ax_storage_example_8c-example.html#a11">ax_storage_example.c</a>.</dd>
</dl>

</div>
</div>
<a id="a49676a4baae47e9407f3641fefcd365c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a49676a4baae47e9407f3641fefcd365c">&#9670;&nbsp;</a></span>ax_storage_unsubscribe()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean ax_storage_unsubscribe </td>
          <td>(</td>
          <td class="paramtype">guint&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop subscribing to storage events. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>The identifier from a call to ax_storage_subscribe. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if unsubscription was successful. FALSE if there was an error, then error parameter is set. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ax_storage_example_8c-example.html#a1">ax_storage_example.c</a>.</dd>
</dl>

</div>
</div>
<a id="abb7bf1c1cab1961dc4c2fffedaaa73cd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#abb7bf1c1cab1961dc4c2fffedaaa73cd">&#9670;&nbsp;</a></span>ax_storage_setup_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean ax_storage_setup_async </td>
          <td>(</td>
          <td class="paramtype">gchar *&#160;</td>
          <td class="paramname"><em>storage_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ax__storage_8h.html#a8b36ff51851a53a057c09e97df2c8e71">AXStorageSetupCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Setup storage for use asynchronously. This method must be called before the storage is to be used in any way (for instance read or write). When done using the storage, ax_storage_release_async must be called.</p>
<p>In other words: 1) Call ax_storage_setup_async, a pointer to the populated AXStorage is received in the setup callback. 2) Use the AXStorage pointer to get the path of where to read and write. 3) User regular c-file operations to read and write to the storage. 4) Call ax_storage_release_async.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage_id</td><td>The storage to use. </td></tr>
    <tr><td class="paramname">callback</td><td>The callback which will be called when the setup is done </td></tr>
    <tr><td class="paramname">user_data</td><td>Custom data that will be passed to the AXStorageSetupCallback. The caller is responsible for freeing this memory. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if setup was sucessful. FALSE if there was an error, then error parameter is set. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ax_storage_example_8c-example.html#a10">ax_storage_example.c</a>.</dd>
</dl>

</div>
</div>
<a id="a27909ecc692b78af43ce23bf0369fe95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a27909ecc692b78af43ce23bf0369fe95">&#9670;&nbsp;</a></span>ax_storage_release_async()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean ax_storage_release_async </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a> *&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ax__storage_8h.html#a47fa45876e2783081f7c6c352d0904c1">AXStorageReleaseCallback</a>&#160;</td>
          <td class="paramname"><em>callback</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>user_data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Release the use of storage asynchronously. This method should be called when done using the storage, after a successful setup (ax_storage_setup_async).</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage</td><td>The storage to release </td></tr>
    <tr><td class="paramname">callback</td><td>The callback which will be called when the release is done. </td></tr>
    <tr><td class="paramname">user_data</td><td>The user_data pointer provided to the AXStorageReleaseCallback. The caller is responsible for freeing this memory. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if call was successful. FALSE if there was an error, then error parameter is set. The actual result of the release will be available in the callback. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ax_storage_example_8c-example.html#a0">ax_storage_example.c</a>.</dd>
</dl>

</div>
</div>
<a id="a821ec183a5d9aa227a1f7aaf34490f42"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a821ec183a5d9aa227a1f7aaf34490f42">&#9670;&nbsp;</a></span>ax_storage_get_path()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gchar* ax_storage_get_path </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a> *&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the location on the storage where the client should save its files. Should only be used after a successful storage setup. Note that the returned string must be freed by the caller!</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage</td><td>An AXStorage </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A path to a directory on the storage where the app should save its files. This path must be freed by the caller, or NULL if failure, then error will be set. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ax_storage_example_8c-example.html#a3">ax_storage_example.c</a>.</dd>
</dl>

</div>
</div>
<a id="ab9e6508ae1fbdf1b4a799763cc6546da"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ab9e6508ae1fbdf1b4a799763cc6546da">&#9670;&nbsp;</a></span>ax_storage_get_status()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean ax_storage_get_status </td>
          <td>(</td>
          <td class="paramtype">gchar *&#160;</td>
          <td class="paramname"><em>storage_id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ax__storage_8h.html#a24a6342f43a2463681f58f282cbf41a2">AXStorageStatusEventId</a>&#160;</td>
          <td class="paramname"><em>event</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Returns the status of the provided event.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage_id</td><td>The storage to get status for. </td></tr>
    <tr><td class="paramname">event</td><td>The event to get status for. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>TRUE if the status of the provided event is TRUE. FALSE if it is false. If successful, error is NULL, otherwise a return location for a GError is provided. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ax_storage_example_8c-example.html#a5">ax_storage_example.c</a>.</dd>
</dl>

</div>
</div>
<a id="a3641678e98f8f23ce25e17f8b10f8f6d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3641678e98f8f23ce25e17f8b10f8f6d">&#9670;&nbsp;</a></span>ax_storage_get_storage_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gchar* ax_storage_get_storage_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a> *&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>After a successful storage setup, get the storage_id from the provided AXStorage. Note that this string must be freed by the caller.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage</td><td>The storage to get ID for. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Allocated storage_id string or NULL if failure. Then a location for a GError is also provided. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ax_storage_example_8c-example.html#a2">ax_storage_example.c</a>.</dd>
</dl>

</div>
</div>
<a id="a9466aecbb946b9d5a0701733cebaff93"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a9466aecbb946b9d5a0701733cebaff93">&#9670;&nbsp;</a></span>ax_storage_get_type()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ax__storage_8h.html#a7ddcacc73d86ef686018ed8725535a51">AXStorageType</a> ax_storage_get_type </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="ax__storage_8h.html#aa14f17bf10b2dcc57d1ca16759da9b8f">AXStorage</a> *&#160;</td>
          <td class="paramname"><em>storage</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>After a successful storage setup, get the storage type from the provided AXStorage. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">storage</td><td>The storage to get type for. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for error, or NULL.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>storage type or UNKNOWN_TYPE if failure. Then a location for a GError is also provided. </dd></dl>
<dl class="section examples"><dt>Examples</dt><dd><a class="el" href="ax_storage_example_8c-example.html#a4">ax_storage_example.c</a>.</dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="ax__storage_8h.html">ax_storage.h</a></li>
    <li class="footer">Copyright &copy; 2009-2024 Axis Communications AB. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
