<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>liblarod: Preprocessing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="axis-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">liblarod
   &#160;<span id="projectnumber">3.2.21</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Preprocessing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p><b>Table of Contents</b></p>
<ul>
<li><a href="#preprocessing">Preprocessing</a><ul>
<li><a href="#what-is-preprocessing">What is preprocessing?</a></li>
<li><a href="#preprocessing-job-configuration">Preprocessing job configuration</a><ul>
<li><a href="#common-operations">Common operations</a></li>
<li><a href="#common-configuration-parameters">Common configuration parameters</a></li>
</ul>
</li>
<li><a href="#supported-backends">Supported backends</a><ul>
<li><a href="#libyuv">libyuv</a></li>
<li><a href="#ace">ACE</a></li>
<li><a href="#vproc">VProc</a></li>
<li><a href="#opencl">OpenCL</a></li>
</ul>
</li>
<li><a href="#supported-operations">Supported operations</a></li>
<li><a href="#supported-formats">Supported formats</a><ul>
<li><a href="#operations-requiring-a-color-format-conversion">Operations requiring a color format conversion</a></li>
<li><a href="#operations-not-requiring-a-color-format-conversion">Operations <em>not</em> requiring a color format conversion</a></li>
</ul>
</li>
<li><a href="#supported-buffer-properties">Supported buffer properties</a><ul>
<li><a href="#when-running-jobs">When running jobs</a></li>
<li><a href="#when-allocating-tensors">When allocating tensors</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<h2>What is preprocessing?</h2>
<p>Preprocessing in larod can be used to process input data so that it has the format, size and shape a neural network expects. For optimal performance the processing operations can be offloaded to specialized preprocessing hardware. Each supported preprocessing hardware accelerator is exposed to applications through a <code>larodDevice</code> struct in larod.</p>
<p>Currently only image processing operations are supported.</p>
<h2>Preprocessing job configuration</h2>
<p>Preprocessing jobs are configured with key-value parameters in a <code>larodMap</code>. The configuration describes the data that you have and how you want the data to be. The selected backend will crop, scale and convert according to what the description requires.</p>
<p>Below is an example job configuration. It describes a job that takes a 1280x720 input image in NV12 format, crops out 200x200 from the center of the image (X offset 540 and Y offset 260), converts it to the RGB interleaved format and scales it down to 48x48. In this case the <a href="#libyuv">libyuv backend</a> will be used to perform these operations. In the interest of brevity error handling has been omitted.</p>
<div class="fragment"><div class="line"><a class="code" href="larod_8h.html#a480ba7618e79ad250c166c52d216ab79">larodMap</a>* modelParams = <a class="code" href="larod_8h.html#ac7cb26c7b2ef5c99507edd44e7727b0e">larodCreateMap</a>(NULL);</div><div class="line"><a class="code" href="larod_8h.html#a28e4db02130ffb4c0a19fac84b698ce0">larodMapSetStr</a>(modelParams, <span class="stringliteral">&quot;image.input.format&quot;</span>, <span class="stringliteral">&quot;nv12&quot;</span>, NULL);</div><div class="line"><a class="code" href="larod_8h.html#a3e5686f34427aaa1a2476cc0991adf12">larodMapSetIntArr2</a>(modelParams, <span class="stringliteral">&quot;image.input.size&quot;</span>, 1280, 720, NULL);</div><div class="line"><a class="code" href="larod_8h.html#a28e4db02130ffb4c0a19fac84b698ce0">larodMapSetStr</a>(modelParams, <span class="stringliteral">&quot;image.output.format&quot;</span>, <span class="stringliteral">&quot;rgb-interleaved&quot;</span>, NULL);</div><div class="line"><a class="code" href="larod_8h.html#a3e5686f34427aaa1a2476cc0991adf12">larodMapSetIntArr2</a>(modelParams, <span class="stringliteral">&quot;image.output.size&quot;</span>, 48, 48, NULL);</div><div class="line"></div><div class="line"><span class="comment">// Our modelParams larodMap replaces the model fd as a model description.</span></div><div class="line"><a class="code" href="larod_8h.html#a9e56e66ffecad46856d96bc289b6ce5a">larodModel</a> *model = <a class="code" href="larod_8h.html#a41b5e5179aa68b382e024945254a5770">larodLoadModel</a>(conn, -1,</div><div class="line">                                   <a class="code" href="larod_8h.html#a29a9707a190c2d0c44f7e50f942b2621">larodGetDevice</a>(conn, <span class="stringliteral">&quot;cpu-proc&quot;</span>, 0, NULL),</div><div class="line">                                   <a class="code" href="larod_8h.html#a41ad6dc8e9f9ffebc03faf115167aba5afc936d97349d892279eec5c41c154d41">LAROD_ACCESS_PRIVATE</a>, <span class="stringliteral">&quot;model-name&quot;</span>,</div><div class="line">                                   modelParams, NULL);</div><div class="line"></div><div class="line"><a class="code" href="larod_8h.html#a480ba7618e79ad250c166c52d216ab79">larodMap</a>* jobParams = <a class="code" href="larod_8h.html#ac7cb26c7b2ef5c99507edd44e7727b0e">larodCreateMap</a>(NULL);</div><div class="line"><span class="comment">// We can change the value of &quot;image.input.crop&quot; in our map between running jobs</span></div><div class="line"><span class="comment">// on the same model if we wish to.</span></div><div class="line"><a class="code" href="larod_8h.html#ab008dee48f6d1625ed351899492c53f1">larodMapSetIntArr4</a>(jobParams, <span class="stringliteral">&quot;image.input.crop&quot;</span>, 540, 260, 200, 200, NULL);</div><div class="line"></div><div class="line"><a class="code" href="larod_8h.html#a8f6f0898b3a3c25a07582687b6095265">larodJobRequest</a>* jobReq = <a class="code" href="larod_8h.html#af25e0293b11b12fb8e296fb20c828159">larodCreateJobRequest</a>(...);</div><div class="line"><a class="code" href="larod_8h.html#aa6ff7fdb5a6d524d366c16df6856849f">larodSetJobRequestParams</a>(jobReq, jobParams, NULL);</div><div class="line"><a class="code" href="larod_8h.html#a7c492dcfb18e0a32407dc6078bd50dbe">larodRunJob</a>(conn, jobReq, NULL);</div></div><!-- fragment --><p>Note that should one be interested in just scaling the original image (from 1280x720 to 48x48) without cropping it first, one could simply neglect to provide a <code>larodMap</code> altogether in the <code>larodJobRequest</code> used.</p>
<h3>Common operations</h3>
<p>Image preprocessing backends may support the following common image processing operations. Backends are not required to support all operations and image formats.</p>
<table class="doxtable">
<tr>
<th>Operation </th><th>Description  </th></tr>
<tr>
<td>Image crop </td><td>Crop out a part of an image. </td></tr>
<tr>
<td>Image scale </td><td>Scale up or down an image. </td></tr>
<tr>
<td>Image convert </td><td>Convert an image between two color formats. </td></tr>
</table>
<h3>Common configuration parameters</h3>
<p>Image preprocessing backends may support the common image processing parameters in the tables below to describe processing jobs. Backends are not required to support all parameters and values.</p>
<h4>Load model parameters</h4>
<p>The following are parameters that can be set on a <code>larodMap</code> provided when loading a model using e.g. <code>larodLoadModel</code>.</p>
<table class="doxtable">
<tr>
<th>Key </th><th>Value  </th></tr>
<tr>
<td>image.input.format* </td><td>String, describing input image format. </td></tr>
<tr>
<td>image.input.size* </td><td>2-integer-tuple, describing input image width and height. </td></tr>
<tr>
<td>image.input.row-pitch </td><td>Integer, describing input image width including padding, in bytes. Inferred if not explicilty given. </td></tr>
<tr>
<td>image.output.format* </td><td>String, describing output image format. </td></tr>
<tr>
<td>image.output.size* </td><td>2-integer-tuple, describing output image width and height. </td></tr>
<tr>
<td>image.output.row-pitch </td><td>Integer, describing output image width including padding, in bytes. Inferred if not explicitly given. </td></tr>
</table>
<p>*: This parameter is mandatory for all preprocessing backends outlined in this document.</p>
<h4>Job request parameters</h4>
<p>The following are parameters that can be set on a <code>larodMap</code> of a <code>larodJobRequest</code>. The map can be attached to a job request upon its creation (<code>larodCreateJobRequest</code>) or later using <code>larodSetJobRequestParams</code>. The parameters of the map will then be used in a subsequent call to e.g. <code>larodRunJob</code> using this job request.</p>
<p>Since these parameters are not attached to a model it's possible to send job requests having larodMaps with different values for these parameters to the same model.</p>
<table class="doxtable">
<tr>
<th>Key </th><th>Value  </th></tr>
<tr>
<td>image.input.crop </td><td>4-integer-tuple, describing the crop window. The elements in the tuple are: X offset in input image, Y offset in input image, crop window width, crop window height. </td></tr>
</table>
<h2>Supported backends</h2>
<p>Currently the following image preprocessing backends/devices are supported by larod.</p>
<h3>libyuv</h3>
<p>The libyuv backend uses the open source library <a href="https://chromium.googlesource.com/libyuv/libyuv/">libyuv</a>. It runs on most CPUs and in particular uses the SIMD technology Neon on Arm architectures to accelerate parallelizable computation. It supports image crop, scale and format conversion.</p>
<p>The device name of this backend is <code>"cpu-proc"</code>; a device handle can be retrieved by providing this device name to <code><a class="el" href="larod_8h.html#a29a9707a190c2d0c44f7e50f942b2621" title="Get an available device. ">larodGetDevice()</a></code>.</p>
<h4>libyuv backend constraints</h4>
<ul>
<li>The width, height and row pitch, for both the input and the output image, must be a multiple of 2.</li>
<li>Converting rgb-planar to rgb-interleaved does not support crop or scaling. The input and output image must have the same width and height.</li>
</ul>
<h4>Supported buffer properties for running jobs</h4>
<p>This backend only supports the fd access types <code>LAROD_FD_PROP_MAP</code> and <code>LAROD_FD_PROP_READWRITE</code>.</p>
<p>As the name indicates the former fd prop will allow the libyuv backend to map (using <code>mmap</code>) the tensor's file descriptor instead of reading or writing from them. Combined with tensor tracking (e.g. using <code><a class="el" href="larod_8h.html#a4c84b8df7f3efc94276ba8cdaf940f85" title="Start tracking a tensor in the service. ">larodTrackTensor()</a></code>) the libyuv backend may be able to cache a tensor's mapping and thus allow for a very efficient zero-copy map-once memory access pattern.</p>
<p>The access type <code>LAROD_FD_PROP_READWRITE</code> will introduce a memory copy and <code>read()</code>/<code>write()</code> calls for each input and output tensor buffer - these extra operations will degrade performance.</p>
<h4>Allocation support</h4>
<p>Tensors allocated using the calls <code><a class="el" href="larod_8h.html#ad8be991c1295938b95df0c2dbd6d1ad7" title="Create and allocate input tensors from a model. ">larodAllocModelInputs()</a></code> and <code><a class="el" href="larod_8h.html#a39c2cd5fb8f2395f976cc49220e96888" title="Create and allocate output tensors from a model. ">larodAllocModelOutputs()</a></code> with a model loaded to this backend will have file descriptors that are readable, writable and mappable. Accordingly the tensors will have the fd props <code>LAROD_FD_PROP_READWRITE</code> and <code>LAROD_FD_PROP_MAP</code> set.</p>
<h4>Optional parameter support</h4>
<p>This backend supports the <code>skip-input-dma-sync</code> and <code>skip-output-dma-sync</code> parameters, see the documentation for dma-buf for more details.</p>
<h3>ACE</h3>
<p>The ACE backend uses Axis Compute Engine in Axis ARTPEC series chips. It only supports image format conversion.</p>
<p>The device name of this backend is <code>"axis-ace-proc"</code>; a device handle can be retrieved by providing this device name to <code><a class="el" href="larod_8h.html#a29a9707a190c2d0c44f7e50f942b2621" title="Get an available device. ">larodGetDevice()</a></code>.</p>
<h4>ACE backend constraints</h4>
<ul>
<li>The input image width must be a multiple of 8.</li>
<li>The input image height must be 4 or larger.</li>
<li>The input image row pitch must be equal to input image width.</li>
<li>The output image row pitch must be equal to output image width.</li>
<li>The input image size must be small enough so that width*height &lt; 4,194,304.</li>
</ul>
<h4>Supported buffer properties for running jobs</h4>
<p>This backend only supports the fd access types <code>LAROD_FD_PROP_MAP</code> and <code>LAROD_FD_PROP_READWRITE</code>.</p>
<p>As the name indicates the former fd prop will allow the ACE backend to map (using <code>mmap</code>) the tensor's file descriptor instead of reading or writing directly from it. Combined with tensor tracking (e.g. using <code><a class="el" href="larod_8h.html#a4c84b8df7f3efc94276ba8cdaf940f85" title="Start tracking a tensor in the service. ">larodTrackTensor()</a></code>) the ACE backend may be able to cache a tensor's mapping. The backend does not support zero copy, meaning that data will still be copied from the memory mapping to the actual buffer for the job.</p>
<p>The access type <code>LAROD_FD_PROP_READWRITE</code> will do a memory copy through <code>read()</code>/<code>write()</code> calls for each input and output tensor buffer - these extra operations will degrade performance.</p>
<h4>Allocation support</h4>
<p>Tensors allocated using the calls <code><a class="el" href="larod_8h.html#ad8be991c1295938b95df0c2dbd6d1ad7" title="Create and allocate input tensors from a model. ">larodAllocModelInputs()</a></code> and <code><a class="el" href="larod_8h.html#a39c2cd5fb8f2395f976cc49220e96888" title="Create and allocate output tensors from a model. ">larodAllocModelOutputs()</a></code> with a model loaded to this backend will have file descriptors that are readable, writable and mappable. Accordingly the tensors will have the fd props <code>LAROD_FD_PROP_READWRITE</code> and <code>LAROD_FD_PROP_MAP</code> set.</p>
<h4>Optional parameter support</h4>
<p>This backend supports the <code>skip-input-dma-sync</code> and <code>skip-output-dma-sync</code> parameters, see the documentation for dma-buf for more details.</p>
<h3>VProc</h3>
<p>The VProc backend uses VPROC in Ambarella CV series chips. It supports image crop, scale and format conversion.</p>
<p>The device name of this backend is <code>"ambarella-cvflow-proc"</code>; a device handle can be retrieved by providing this device name to <code><a class="el" href="larod_8h.html#a29a9707a190c2d0c44f7e50f942b2621" title="Get an available device. ">larodGetDevice()</a></code>.</p>
<h4>VProc backend constraints</h4>
<ul>
<li>The input image width must be a multiple of 2 when input format is nv12.</li>
<li>The input image height must be a multiple of 2 when input format is nv12.</li>
<li>The input image row pitch must be a multiple of 32.</li>
<li>The output image width must be a multiple of 2 when output format is nv12.</li>
<li>The output image height must be a multiple of 2 when output format is nv12.</li>
<li>The output image row pitch must be a multiple of 32.</li>
<li>For operations requiring both color format conversion and scaling the scale factor must be at most 4.</li>
<li>For operations <em>not</em> requiring color format conversion the scale factor must be at most 256.</li>
</ul>
<h4>Supported buffer properties for running jobs</h4>
<p>This backend supports the fd access types <code>LAROD_FD_PROP_DMABUF</code> and <code>LAROD_FD_PROP_READWRITE</code>.</p>
<p>The access type <code>LAROD_FD_PROP_DMABUF</code> provides less overhead since the buffer will be passed directly the underlying processing framework without extra copies in larod. When using <code>LAROD_FD_PROP_DMABUF</code>, the application is responsible for ensuring that the external RAM is up to date with CPU cache before the inference is started (the service will <em>not</em> initiate any cache flush operations). Refer to <a href="nn-inference.md#about-dma-buf">About dma-buf</a> for more information about dma-buf and user space synchronization.</p>
<p>The access type <code>LAROD_FD_PROP_READWRITE</code> will introduce a memory copy and <code>read()</code>/<code>write()</code> calls for each input and output tensor buffer - these extra operations will degrade performance.</p>
<h4>Allocation support</h4>
<p>Using the calls <code><a class="el" href="larod_8h.html#ad8be991c1295938b95df0c2dbd6d1ad7" title="Create and allocate input tensors from a model. ">larodAllocModelInputs()</a></code> and <code><a class="el" href="larod_8h.html#a39c2cd5fb8f2395f976cc49220e96888" title="Create and allocate output tensors from a model. ">larodAllocModelOutputs()</a></code> with a model loaded to this backend two kinds of tensor buffers can be allocated. If the <code>LAROD_FD_PROP_READWRITE</code> is <em>not</em> set as required in the call, then tensors with mappable file descriptors based on Cavalry Mem dma-bufs will be returned. As such these tensors will have the fd props <code>LAROD_FD_PROP_MAP</code> and <code>LAROD_FD_PROP_DMABUF</code> set. If however <code>LAROD_FD_PROP_READWRITE</code> is required, then tensors with readable, writable and mappable file descriptors will be returned. As such these tensors will have the fd props <code>LAROD_FD_PROP_READWRITE</code> and <code>LAROD_FD_PROP_MAP</code> set.</p>
<h3>OpenCL</h3>
<p>OpenCL is a compute framework which enables programmers to write programs that execute across heterogeneous platforms such as CPUs, GPUs and more. larod contains predefined OpenCL programs which lets a larod user through its OpenCL backend conveniently run image crop, scale and format conversion.</p>
<p>The platform larod runs on may have several devices supporting the OpenCL framework. larod can run its operations on any of these devices; each OpenCL device has a unique device name.</p>
<h4>Choosing a specific device</h4>
<p>There are currently three available OpenCL backends; these are <code>"axis-a7-gpu-proc"</code>, <code>"axis-a8-dlpu-proc"</code> and <code>"axis-a8-gpu-proc"</code>. A device handle to one of these backends can be retrieved by providing the respective device name to <code><a class="el" href="larod_8h.html#a29a9707a190c2d0c44f7e50f942b2621" title="Get an available device. ">larodGetDevice()</a></code>.</p>
<p>The names of the three device are rather self explanatory; it is possible to run OpenCL on the GPU for Artpec-7 and both GPU and DLPU on Artpec-8 on platforms using one of these SoCs.</p>
<h4>Supported buffer properties for running jobs</h4>
<p>The backends only support the fd access type <code>LAROD_FD_PROP_READWRITE</code>.</p>
<h4>Allocation support</h4>
<p>Tensors allocated using the calls <code><a class="el" href="larod_8h.html#ad8be991c1295938b95df0c2dbd6d1ad7" title="Create and allocate input tensors from a model. ">larodAllocModelInputs()</a></code> and <code><a class="el" href="larod_8h.html#a39c2cd5fb8f2395f976cc49220e96888" title="Create and allocate output tensors from a model. ">larodAllocModelOutputs()</a></code> with a model loaded to this backend will have file descriptors that are readable, writable and mappable. Accordingly the tensors will have the fd props <code>LAROD_FD_PROP_READWRITE</code> and <code>LAROD_FD_PROP_MAP</code> set.</p>
<h2>Supported operations</h2>
<p>The following table describes supported operations for each backend.</p>
<table class="doxtable">
<tr>
<th>Backend </th><th>crop </th><th>convert </th><th>scale  </th></tr>
<tr>
<td>libyuv </td><td>Yes </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td>ACE </td><td></td><td>Yes </td><td></td></tr>
<tr>
<td>VProc </td><td>Yes </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td>OpenCL </td><td>Yes </td><td>Yes </td><td>Yes </td></tr>
</table>
<h2>Supported formats</h2>
<h3>Operations requiring a color format conversion</h3>
<p>The following table describes supported <em><b>input</b></em> formats for operations requiring a color format conversion.</p>
<table class="doxtable">
<tr>
<th>Backend </th><th>nv12 </th><th>rgb-interleaved </th><th>rgb-planar  </th></tr>
<tr>
<td>libyuv </td><td>Yes </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td>ACE </td><td>Yes </td><td></td><td></td></tr>
<tr>
<td>VProc </td><td>Yes </td><td></td><td></td></tr>
<tr>
<td>OpenCL </td><td>Yes </td><td></td><td></td></tr>
</table>
<p>The following table describes supported <em><b>output</b></em> formats for operations requiring a color format conversion.</p>
<table class="doxtable">
<tr>
<th>Backend </th><th>nv12 </th><th>rgb-interleaved </th><th>rgb-planar  </th></tr>
<tr>
<td>libyuv </td><td>Yes </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td>ACE </td><td></td><td>Yes </td><td></td></tr>
<tr>
<td>VProc </td><td></td><td></td><td>Yes </td></tr>
<tr>
<td>OpenCL </td><td></td><td>Yes </td><td></td></tr>
</table>
<h3>Operations <em>not</em> requiring a color format conversion</h3>
<p>The following table describes supported image formats for operations <em>not</em> requiring a color format conversion, i.e. the input and output formats are identical. This could be e.g. a pure scaling operation.</p>
<table class="doxtable">
<tr>
<th>Backend </th><th>nv12 </th><th>rgb-interleaved </th><th>rgb-planar  </th></tr>
<tr>
<td>libyuv </td><td>Yes </td><td>Yes </td><td></td></tr>
<tr>
<td>VProc </td><td>Yes </td><td></td><td>Yes </td></tr>
<tr>
<td>OpenCL </td><td>Yes </td><td></td><td></td></tr>
</table>
<h2>Supported buffer properties</h2>
<p>This is an overview of what file descriptor properties are supported by the various preprocessing backends. Note that the <code>LAROD_FD_PROP_</code> prefix have been omitted from the table headers in the interest of brevity. Please see <a href="../lib/larod.h"><code>larod.h</code></a> for more info about the <code>LAROD_FD_PROP_*</code> flags.</p>
<h3>When running jobs</h3>
<p>Please note that though several properties may be supported by a backend, a tensor buffer supplied for running a job need only have at least one of the backend's supported properties to be usable for the job. Having said that, each property comes with different implications on memory access performance.</p>
<h4>Input tensors</h4>
<table class="doxtable">
<tr>
<th>Backend </th><th>READWRITE </th><th>MAP </th><th>DMABUF  </th></tr>
<tr>
<td>libyuv </td><td>Yes </td><td>Yes </td><td></td></tr>
<tr>
<td>ACE </td><td>Yes </td><td>Yes </td><td></td></tr>
<tr>
<td>VProc </td><td>Yes </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td>OpenCL </td><td>Yes </td><td></td><td></td></tr>
</table>
<h4>Output tensors</h4>
<table class="doxtable">
<tr>
<th>Backend </th><th>READWRITE </th><th>MAP </th><th>DMABUF  </th></tr>
<tr>
<td>libyuv </td><td>Yes </td><td>Yes </td><td></td></tr>
<tr>
<td>ACE </td><td>Yes </td><td>Yes </td><td></td></tr>
<tr>
<td>VProc </td><td>Yes </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td>OpenCL </td><td>Yes </td><td></td><td></td></tr>
</table>
<h3>When allocating tensors</h3>
<p>Please note that though several properties may be supported by a backend, it may not be possible to allocate buffers having all the properties at the same time.</p>
<h4>Input tensors</h4>
<table class="doxtable">
<tr>
<th>Backend </th><th>READWRITE </th><th>MAP </th><th>DMABUF  </th></tr>
<tr>
<td>libyuv </td><td>Yes </td><td>Yes </td><td></td></tr>
<tr>
<td>ACE </td><td>Yes </td><td>Yes </td><td></td></tr>
<tr>
<td>VProc </td><td>Yes </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td>OpenCL </td><td>Yes </td><td>Yes </td><td></td></tr>
</table>
<h4>Output tensors</h4>
<table class="doxtable">
<tr>
<th>Backend </th><th>READWRITE </th><th>MAP </th><th>DMABUF  </th></tr>
<tr>
<td>libyuv </td><td>Yes </td><td>Yes </td><td></td></tr>
<tr>
<td>ACE </td><td>Yes </td><td>Yes </td><td></td></tr>
<tr>
<td>VProc </td><td>Yes </td><td>Yes </td><td>Yes </td></tr>
<tr>
<td>OpenCL </td><td>Yes </td><td>Yes </td><td></td></tr>
</table>
</div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Copyright &copy; 2009-2023 Axis Communications AB. All rights reserved.
</small></address>
</body>
</html>
