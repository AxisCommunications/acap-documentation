<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.9.1"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>libvdo: vdo-stream.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">libvdo
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.1 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
var searchBox = new SearchBox("searchBox", "search",false,'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(document).ready(function(){initNavTree('vdo-stream_8h.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">vdo-stream.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A class representing a stream session.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &quot;<a class="el" href="vdo-types_8h_source.html">vdo-types.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vdo-frame_8h_source.html">vdo-frame.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vdo-buffer_8h_source.html">vdo-buffer.h</a>&quot;</code><br />
<code>#include &quot;<a class="el" href="vdo-map_8h_source.html">vdo-map.h</a>&quot;</code><br />
<code>#include &lt;glib-object.h&gt;</code><br />
</div><div class="textblock"><div class="dynheader">
Include dependency graph for vdo-stream.h:</div>
<div class="dyncontent">
<div class="center"><img src="vdo-stream_8h__incl.png" border="0" usemap="#avdo-stream_8h" alt=""/></div>
</div>
</div>
<p><a href="vdo-stream_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a36fa0021eb58d482c494163db9b22b61"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a36fa0021eb58d482c494163db9b22b61">vdo_stream_new</a> (<a class="el" href="classVdoMap.html">VdoMap</a> *settings, VdoBufferFinalizer fin, GError **error)</td></tr>
<tr class="memdesc:a36fa0021eb58d482c494163db9b22b61"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create a new <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>.  <a href="vdo-stream_8h.html#a36fa0021eb58d482c494163db9b22b61">More...</a><br /></td></tr>
<tr class="separator:a36fa0021eb58d482c494163db9b22b61"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a07e12d4c5d79563413711dcdc6085171"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a07e12d4c5d79563413711dcdc6085171">vdo_stream_get</a> (guint id, GError **error)</td></tr>
<tr class="memdesc:a07e12d4c5d79563413711dcdc6085171"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get an existing video stream.  <a href="vdo-stream_8h.html#a07e12d4c5d79563413711dcdc6085171">More...</a><br /></td></tr>
<tr class="separator:a07e12d4c5d79563413711dcdc6085171"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac21dc2bb1e463b20cca05213739e505c"><td class="memItemLeft" align="right" valign="top">GList *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#ac21dc2bb1e463b20cca05213739e505c">vdo_stream_get_all</a> (GError **error)</td></tr>
<tr class="memdesc:ac21dc2bb1e463b20cca05213739e505c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets all existing video streams.  <a href="vdo-stream_8h.html#ac21dc2bb1e463b20cca05213739e505c">More...</a><br /></td></tr>
<tr class="separator:ac21dc2bb1e463b20cca05213739e505c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afbd3cb015a9d186123d534068db46749"><td class="memItemLeft" align="right" valign="top">guint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#afbd3cb015a9d186123d534068db46749">vdo_stream_get_id</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self)</td></tr>
<tr class="memdesc:afbd3cb015a9d186123d534068db46749"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the id of this video stream.  <a href="vdo-stream_8h.html#afbd3cb015a9d186123d534068db46749">More...</a><br /></td></tr>
<tr class="separator:afbd3cb015a9d186123d534068db46749"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81faad176c49398f0a0b9826fb7c31f8"><td class="memItemLeft" align="right" valign="top">gint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a81faad176c49398f0a0b9826fb7c31f8">vdo_stream_get_fd</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, GError **error)</td></tr>
<tr class="memdesc:a81faad176c49398f0a0b9826fb7c31f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a file descriptor representing the underlying socket connection.  <a href="vdo-stream_8h.html#a81faad176c49398f0a0b9826fb7c31f8">More...</a><br /></td></tr>
<tr class="separator:a81faad176c49398f0a0b9826fb7c31f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:acbdc222c597329e543ba85f330526b12"><td class="memItemLeft" align="right" valign="top">gint&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#acbdc222c597329e543ba85f330526b12">vdo_stream_get_event_fd</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, GError **error)</td></tr>
<tr class="memdesc:acbdc222c597329e543ba85f330526b12"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns a file descriptor for prioritized events.  <a href="vdo-stream_8h.html#acbdc222c597329e543ba85f330526b12">More...</a><br /></td></tr>
<tr class="separator:acbdc222c597329e543ba85f330526b12"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6368c8c989cbea997947d433dce6a3cb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classVdoMap.html">VdoMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a6368c8c989cbea997947d433dce6a3cb">vdo_stream_get_info</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, GError **error)</td></tr>
<tr class="memdesc:a6368c8c989cbea997947d433dce6a3cb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the info for this video stream.  <a href="vdo-stream_8h.html#a6368c8c989cbea997947d433dce6a3cb">More...</a><br /></td></tr>
<tr class="separator:a6368c8c989cbea997947d433dce6a3cb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad1279257f13b9a406a0df2558f10123e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classVdoMap.html">VdoMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#ad1279257f13b9a406a0df2558f10123e">vdo_stream_get_settings</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, GError **error)</td></tr>
<tr class="memdesc:ad1279257f13b9a406a0df2558f10123e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get the settings for this video stream.  <a href="vdo-stream_8h.html#ad1279257f13b9a406a0df2558f10123e">More...</a><br /></td></tr>
<tr class="separator:ad1279257f13b9a406a0df2558f10123e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:affa9aec868d9c2fd1f39f44aa63adaf2"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#affa9aec868d9c2fd1f39f44aa63adaf2">vdo_stream_set_settings</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, <a class="el" href="classVdoMap.html">VdoMap</a> *settings, GError **error)</td></tr>
<tr class="memdesc:affa9aec868d9c2fd1f39f44aa63adaf2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the settings for this video stream.  <a href="vdo-stream_8h.html#affa9aec868d9c2fd1f39f44aa63adaf2">More...</a><br /></td></tr>
<tr class="separator:affa9aec868d9c2fd1f39f44aa63adaf2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af43f6acfe327b99037ea1e046788e7b5"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#af43f6acfe327b99037ea1e046788e7b5">vdo_stream_set_framerate</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, gdouble framerate, GError **error)</td></tr>
<tr class="memdesc:af43f6acfe327b99037ea1e046788e7b5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Update the framerate for this video stream.  <a href="vdo-stream_8h.html#af43f6acfe327b99037ea1e046788e7b5">More...</a><br /></td></tr>
<tr class="separator:af43f6acfe327b99037ea1e046788e7b5"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aba5b4264502272caae02a621f3bad63c"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#aba5b4264502272caae02a621f3bad63c">vdo_stream_attach</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, <a class="el" href="classVdoMap.html">VdoMap</a> *intent, GError **error)</td></tr>
<tr class="memdesc:aba5b4264502272caae02a621f3bad63c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Attach to a Stream.  <a href="vdo-stream_8h.html#aba5b4264502272caae02a621f3bad63c">More...</a><br /></td></tr>
<tr class="separator:aba5b4264502272caae02a621f3bad63c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a366f51af1a7171a6739d191ca1e113"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a5a366f51af1a7171a6739d191ca1e113">vdo_stream_start</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, GError **error)</td></tr>
<tr class="memdesc:a5a366f51af1a7171a6739d191ca1e113"><td class="mdescLeft">&#160;</td><td class="mdescRight">Start this video stream.  <a href="vdo-stream_8h.html#a5a366f51af1a7171a6739d191ca1e113">More...</a><br /></td></tr>
<tr class="separator:a5a366f51af1a7171a6739d191ca1e113"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad6b715a47f7998706514c25261c9b716"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#ad6b715a47f7998706514c25261c9b716">vdo_stream_play</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, <a class="el" href="classVdoMap.html">VdoMap</a> *settings, GError **error)</td></tr>
<tr class="memdesc:ad6b715a47f7998706514c25261c9b716"><td class="mdescLeft">&#160;</td><td class="mdescRight">Play all buffered video and continue streaming live.  <a href="vdo-stream_8h.html#ad6b715a47f7998706514c25261c9b716">More...</a><br /></td></tr>
<tr class="separator:ad6b715a47f7998706514c25261c9b716"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5e28776ff99b3ecf0b996630eacb4f89"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a5e28776ff99b3ecf0b996630eacb4f89">vdo_stream_stop</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self)</td></tr>
<tr class="memdesc:a5e28776ff99b3ecf0b996630eacb4f89"><td class="mdescLeft">&#160;</td><td class="mdescRight">Stop this video stream.  <a href="vdo-stream_8h.html#a5e28776ff99b3ecf0b996630eacb4f89">More...</a><br /></td></tr>
<tr class="separator:a5e28776ff99b3ecf0b996630eacb4f89"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a32ba781b100c13c7b70e0f700bbce268"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a32ba781b100c13c7b70e0f700bbce268">vdo_stream_force_key_frame</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, GError **error)</td></tr>
<tr class="memdesc:a32ba781b100c13c7b70e0f700bbce268"><td class="mdescLeft">&#160;</td><td class="mdescRight">Forces this video stream to insert a key frame.  <a href="vdo-stream_8h.html#a32ba781b100c13c7b70e0f700bbce268">More...</a><br /></td></tr>
<tr class="separator:a32ba781b100c13c7b70e0f700bbce268"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a18ff54d35650a8fa4a00da2198b4b2d3"><td class="memItemLeft" align="right" valign="top">VdoBuffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a18ff54d35650a8fa4a00da2198b4b2d3">vdo_stream_buffer_alloc</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, gpointer opaque, GError **error)</td></tr>
<tr class="memdesc:a18ff54d35650a8fa4a00da2198b4b2d3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Allocates a new buffer for this stream.  <a href="vdo-stream_8h.html#a18ff54d35650a8fa4a00da2198b4b2d3">More...</a><br /></td></tr>
<tr class="separator:a18ff54d35650a8fa4a00da2198b4b2d3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5c13ae89ffee889aebf1a9b6c3bc3594"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a5c13ae89ffee889aebf1a9b6c3bc3594">vdo_stream_buffer_unref</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, VdoBuffer **buffer, GError **error)</td></tr>
<tr class="memdesc:a5c13ae89ffee889aebf1a9b6c3bc3594"><td class="mdescLeft">&#160;</td><td class="mdescRight">Decreases the reference count for the specified buffer.  <a href="vdo-stream_8h.html#a5c13ae89ffee889aebf1a9b6c3bc3594">More...</a><br /></td></tr>
<tr class="separator:a5c13ae89ffee889aebf1a9b6c3bc3594"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a897b1e6d50e00aa8974511b4625cbad3"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a897b1e6d50e00aa8974511b4625cbad3">vdo_stream_buffer_enqueue</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, VdoBuffer *buffer, GError **error)</td></tr>
<tr class="memdesc:a897b1e6d50e00aa8974511b4625cbad3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Enqueue a buffer for this video stream.  <a href="vdo-stream_8h.html#a897b1e6d50e00aa8974511b4625cbad3">More...</a><br /></td></tr>
<tr class="separator:a897b1e6d50e00aa8974511b4625cbad3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a021f68451699a9ca04aa0e67d9b2917e"><td class="memItemLeft" align="right" valign="top">VdoBuffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a021f68451699a9ca04aa0e67d9b2917e">vdo_stream_get_buffer</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, GError **error)</td></tr>
<tr class="memdesc:a021f68451699a9ca04aa0e67d9b2917e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches a VdoBuffer containing a frame.  <a href="vdo-stream_8h.html#a021f68451699a9ca04aa0e67d9b2917e">More...</a><br /></td></tr>
<tr class="separator:a021f68451699a9ca04aa0e67d9b2917e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa327d3bc31376dd3edebc15a4491a13e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#aa327d3bc31376dd3edebc15a4491a13e">vdo_stream_to_fd</a> (<a class="el" href="classVdoMap.html">VdoMap</a> *settings, int data_fd, int meta_fd, GError **error)</td></tr>
<tr class="memdesc:aa327d3bc31376dd3edebc15a4491a13e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create and start a new stream to already existing file descriptors.  <a href="vdo-stream_8h.html#aa327d3bc31376dd3edebc15a4491a13e">More...</a><br /></td></tr>
<tr class="separator:aa327d3bc31376dd3edebc15a4491a13e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4b4c0f2124280bde265491c08bd2f47c"><td class="memItemLeft" align="right" valign="top">VdoBuffer *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#a4b4c0f2124280bde265491c08bd2f47c">vdo_stream_snapshot</a> (<a class="el" href="classVdoMap.html">VdoMap</a> *settings, GError **error)</td></tr>
<tr class="memdesc:a4b4c0f2124280bde265491c08bd2f47c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches a single VdoBuffer containing a frame.  <a href="vdo-stream_8h.html#a4b4c0f2124280bde265491c08bd2f47c">More...</a><br /></td></tr>
<tr class="separator:a4b4c0f2124280bde265491c08bd2f47c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af416bd3ec1edf4055c554e0f78b7b9f9"><td class="memItemLeft" align="right" valign="top"><a class="el" href="classVdoMap.html">VdoMap</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="vdo-stream_8h.html#af416bd3ec1edf4055c554e0f78b7b9f9">vdo_stream_get_event</a> (<a class="el" href="classVdoStream.html">VdoStream</a> *self, GError **error)</td></tr>
<tr class="memdesc:af416bd3ec1edf4055c554e0f78b7b9f9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fetches the next Event.  <a href="vdo-stream_8h.html#af416bd3ec1edf4055c554e0f78b7b9f9">More...</a><br /></td></tr>
<tr class="separator:af416bd3ec1edf4055c554e0f78b7b9f9"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A class representing a stream session. </p>
<p>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> object is created in order to retrieve, control or monitor a video stream from the Vdo video service.</p>
<p>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> represents video stream or a sequence of images.</p>
<p>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> supports the following settings in <code><a class="el" href="vdo-stream_8h.html#a36fa0021eb58d482c494163db9b22b61" title="Create a new VdoStream.">vdo_stream_new()</a></code>, they are also available in <code><a class="el" href="vdo-stream_8h.html#ad1279257f13b9a406a0df2558f10123e" title="Get the settings for this video stream.">vdo_stream_get_settings()</a></code> and <code><a class="el" href="vdo-stream_8h.html#affa9aec868d9c2fd1f39f44aa63adaf2" title="Update the settings for this video stream.">vdo_stream_set_settings()</a></code>.</p>
<p>When one of the values below is set in the settings map it may appear in the info map as well, to reflect that they have been updated internally in vdo. The info value will differ if it has been clamped to within allowed values. Always refer to the info map to see what values are currently used.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"format"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Video stream format as <a class="el" href="vdo-types_8h.html#a5ed136c302573571bf325c39d6d36246" title="Video formats.">VdoFormat</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"buffer.access"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Access type as <a class="el" href="vdo-types_8h.html#aad3ddf92456cf91539f2f21814083ecf" title="Buffer access definitions.">VdoBufferAccess</a>    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"buffer.count"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Hint how many in-flight buffers are desired.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"buffer.strategy"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Buffering Strategy as <a class="el" href="vdo-types_8h.html#aca96b2ced6d27b9dd74085a5caebfbc4" title="Buffer strategy.">VdoBufferStrategy</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"input"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Video input, 1 ... inmax. 0 is invalid. No view areas.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"channel"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Video channel, 0 is overview, 1, 2, ... are view areas.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"width"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Video stream horizontal resolution.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"height"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Video stream vertical resolution.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"framerate"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Video stream frame rate.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"compression"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Video stream compression, Axis standard range [0:100].    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"rotation"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Video stream rotation, normally [0,90,180,270].    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"horizontal_flip"   </td><td class="markdownTableBodyNone">boolean   </td><td class="markdownTableBodyNone">Video stream horizontal flip (mirroring).    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"monochrome"   </td><td class="markdownTableBodyNone">boolean   </td><td class="markdownTableBodyNone">Video stream monochrome encoding.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"dynamic.gop"   </td><td class="markdownTableBodyNone">boolean   </td><td class="markdownTableBodyNone">Enable dynamic gop    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"dynamic.bitrate"   </td><td class="markdownTableBodyNone">boolean   </td><td class="markdownTableBodyNone">Enable dynamic bitrate    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"dynamic.framerate"   </td><td class="markdownTableBodyNone">boolean   </td><td class="markdownTableBodyNone">Enable dynamic framerate    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"dynamic.compression"   </td><td class="markdownTableBodyNone">boolean   </td><td class="markdownTableBodyNone">Enable dynamic compression    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"qp.i"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">QP value for I-frames.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"qp.p"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">QP value for P-frames.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"bitrate"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Video stream bitrate (bps)    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"rc.mode"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Bitrate control mode as <a class="el" href="vdo-types_8h.html#a90d9899f6a1e0fd09ab95647410df2e5" title="Bitrate control modes.">VdoRateControlMode</a>.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"rc.prio"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Bitrate control priority as <a class="el" href="vdo-types_8h.html#a33605ce7467e92bc6b3de06a39df21ac" title="Bitrate control priorities.">VdoRateControlPriority</a>.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"gop_length"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Video stream GOP length.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"overlays"   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">Enable/disable overlays (off text image application all)   </td></tr>
</table>
<p>H.264 Specific Settings</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"h264.profile"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">H.264 profile as <a class="el" href="vdo-types_8h.html#a33e0f9a928494b4bd711a5265776b5e0" title="H.264 profiles.">VdoH264Profile</a>.   </td></tr>
</table>
<p>H.265 Specific Settings</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"h265.profile"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">H.265 profile as <a class="el" href="vdo-types_8h.html#a02ecc04ac7ec55a5a0b915c0825e7fe8" title="H.265 profiles.">VdoH265Profile</a>.   </td></tr>
</table>
<p>Zipstream Specific Settings</p>
<p>The following Zipstream specific settings are supported for H.264 and H.265 streams.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"zip.strength"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Zipstream strength. (AXIS OS 11.8) [0,10,20,30,40,50]    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"zip.strength"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Zipstream strength. [0,1,2,4,5,6]-&gt;[0,10,20,30,40,50]    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"zip.max_gop_length"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Zipstream maximum GOP length.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"zip.gop_mode"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Zipstream GOP mode [0 = fixed, 1 = dynamic]    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"zip.fps_mode"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Zipstream framerate control mode: [0 = fixed, 1 = dynamic]    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"zip.skip_mode"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Zipstream frame skip mode: [0 = drop, 1 = empty]    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"zip.min_fps_num"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Zipstream minimum framerate numerator    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"zip.min_fps_den"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Zipstream minimum framerate denominator    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"zip.profile"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Zipstream profile as <a class="el" href="vdo-types_8h.html#a7d42c863f85fae6169685874dbbde1b3" title="Zipstream profiles.">VdoZipStreamProfile</a>.   </td></tr>
</table>
<p>ABR Specific Settings</p>
<p>The following ABR specific settings are supported with VDO_RATE_CONTROL_MODE_ABR.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"abr.target_bitrate"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Stream target bitrate (bps)    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"abr.retention_time"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Retention time in seconds   </td></tr>
</table>
<p>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> provides the following info. Info is obtained by calling <a class="el" href="vdo-stream_8h.html#a6368c8c989cbea997947d433dce6a3cb" title="Get the info for this video stream.">vdo_stream_get_info()</a>.</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Type   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"statistics.duration"   </td><td class="markdownTableBodyNone">int64   </td><td class="markdownTableBodyNone">The duration of the stream in usec.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"statistics.framerate"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">The framerate of the stream.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"statistics.bitrate"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">The bitrate of the stream.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"statistics.frame_count"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">The number of frames read.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"statistics.idrframe_count"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">The number of IDR-frames read.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"statistics.bit_count"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">The number of bits read.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"statistics.failed_frames"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">The number of frames failed to read.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"statistics.accumulated_bytes"   </td><td class="markdownTableBodyNone">uint64   </td><td class="markdownTableBodyNone">The number of bytes read since stream start    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"statistics.accumulated_idrbytes"   </td><td class="markdownTableBodyNone">uint64   </td><td class="markdownTableBodyNone">The number of bytes read from IDR-frames since stream start    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"subformat"   </td><td class="markdownTableBodyNone">string   </td><td class="markdownTableBodyNone">The subformat for streams in YUV or raw format.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"pitch"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">The row stride pitch for streams in YUV or raw format.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"width"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Actual width of the stream, for yuv and raw streams.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"height"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Actual height of the stream, for yuv and raw streams.    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"scale_factor"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">The scaling between the main buffer and the stream for me0/me1/zipstream streams. Ambarella only.    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">"initial.q.i"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Initial QP value for I-frames when the stream started    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone">"initial.q.p"   </td><td class="markdownTableBodyNone">uint32   </td><td class="markdownTableBodyNone">Initial QP value for P-frames when the stream started   </td></tr>
</table>
<p>Copyright (C) 2016-2018, Axis Communications AB, Lund </p>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="aba5b4264502272caae02a621f3bad63c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba5b4264502272caae02a621f3bad63c">&#9670;&nbsp;</a></span>vdo_stream_attach()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean vdo_stream_attach </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVdoMap.html">VdoMap</a> *&#160;</td>
          <td class="paramname"><em>intent</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Attach to a Stream. </p>
<p>This function is intended to be used with <a class="el" href="vdo-stream_8h.html#a07e12d4c5d79563413711dcdc6085171" title="Get an existing video stream.">vdo_stream_get</a>, it is redundant to attach to a stream which was created by <a class="el" href="vdo-stream_8h.html#a36fa0021eb58d482c494163db9b22b61" title="Create a new VdoStream.">vdo_stream_new</a>, see <a class="el" href="vdo-stream_8h.html#af416bd3ec1edf4055c554e0f78b7b9f9" title="Fetches the next Event.">vdo_stream_get_event</a> for an example using "intent" with <a class="el" href="vdo-stream_8h.html#a36fa0021eb58d482c494163db9b22b61" title="Create a new VdoStream.">vdo_stream_new</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">intent</td><td>A <a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a> specifying intent or <code>NULL</code> for <a class="el" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8ac4285a061f1f32323096a3609ef7e14e">VDO_INTENT_DEFAULT</a>. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Name   </th><th class="markdownTableHeadNone">Description    </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8a7c19220b80523ced40464b75f92e6b0f">VDO_INTENT_CONTROL</a>   </td><td class="markdownTableBodyNone">Grants start, stop, info, settings, keyframe    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8a76952df68c249b9976580784947717dd">VDO_INTENT_CONSUME</a>   </td><td class="markdownTableBodyNone">The client intends to stream    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8a47ea6aae08517338dc9d0b66764069ff">VDO_INTENT_PRODUCE</a>   </td><td class="markdownTableBodyNone">The client intends to inject frames    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8ac4285a061f1f32323096a3609ef7e14e">VDO_INTENT_DEFAULT</a>   </td><td class="markdownTableBodyNone">Grants CONSUME and CONTROL    </td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8a5765cb5e5a8f8bb598818850bd91f9ba">VDO_INTENT_EVENTFD</a>   </td><td class="markdownTableBodyNone">Monitor events using file descriptors    </td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8ac3db05fc3647260a8408dc0a00636b49">VDO_INTENT_UNIVERSE</a>   </td><td class="markdownTableBodyNone">Everything except <a class="el" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8a5765cb5e5a8f8bb598818850bd91f9ba">VDO_INTENT_EVENTFD</a>   </td></tr>
</table>
<p>In order to save resources enable as few intents as possible.</p>
<div class="fragment"><div class="line">g_autoptr(<a class="code" href="classVdoMap.html">VdoMap</a>)    intent = <a class="code" href="vdo-map_8h.html#a98b0e304d19d397003f2cc0c774cc33f">vdo_map_new</a>();</div>
<div class="line">g_autoptr(<a class="code" href="classVdoStream.html">VdoStream</a>) stream = <a class="code" href="vdo-stream_8h.html#a07e12d4c5d79563413711dcdc6085171">vdo_stream_get</a>(<span class="keywordtype">id</span>, NULL);</div>
<div class="line"> </div>
<div class="line">vdo_map_set_uint32(intent, <span class="stringliteral">&quot;intent&quot;</span>, <a class="code" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8a5765cb5e5a8f8bb598818850bd91f9ba">VDO_INTENT_EVENTFD</a>);</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (!<a class="code" href="vdo-stream_8h.html#aba5b4264502272caae02a621f3bad63c">vdo_stream_attach</a>(stream, intent, &amp;error))</div>
<div class="line">    g_error(<span class="stringliteral">&quot;Error: %s&quot;</span>, error-&gt;message);</div>
<div class="ttc" id="aclassVdoMap_html"><div class="ttname"><a href="classVdoMap.html">VdoMap</a></div><div class="ttdoc">A class representing a dictionary mapping keys to values.</div></div>
<div class="ttc" id="aclassVdoStream_html"><div class="ttname"><a href="classVdoStream.html">VdoStream</a></div><div class="ttdoc">A video stream.</div></div>
<div class="ttc" id="avdo-map_8h_html_a98b0e304d19d397003f2cc0c774cc33f"><div class="ttname"><a href="vdo-map_8h.html#a98b0e304d19d397003f2cc0c774cc33f">vdo_map_new</a></div><div class="ttdeci">VdoMap * vdo_map_new(void)</div><div class="ttdoc">Constructs an new empty VdoMap.</div></div>
<div class="ttc" id="avdo-stream_8h_html_a07e12d4c5d79563413711dcdc6085171"><div class="ttname"><a href="vdo-stream_8h.html#a07e12d4c5d79563413711dcdc6085171">vdo_stream_get</a></div><div class="ttdeci">VdoStream * vdo_stream_get(guint id, GError **error)</div><div class="ttdoc">Get an existing video stream.</div></div>
<div class="ttc" id="avdo-stream_8h_html_aba5b4264502272caae02a621f3bad63c"><div class="ttname"><a href="vdo-stream_8h.html#aba5b4264502272caae02a621f3bad63c">vdo_stream_attach</a></div><div class="ttdeci">gboolean vdo_stream_attach(VdoStream *self, VdoMap *intent, GError **error)</div><div class="ttdoc">Attach to a Stream.</div></div>
<div class="ttc" id="avdo-types_8h_html_acaa9291dd03e128aa2097c75b0d65ab8a5765cb5e5a8f8bb598818850bd91f9ba"><div class="ttname"><a href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8a5765cb5e5a8f8bb598818850bd91f9ba">VDO_INTENT_EVENTFD</a></div><div class="ttdeci">@ VDO_INTENT_EVENTFD</div><div class="ttdef"><b>Definition:</b> vdo-types.h:312</div></div>
</div><!-- fragment --><dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> on success, <code>FALSE</code> is error is set. </dd></dl>

</div>
</div>
<a id="a18ff54d35650a8fa4a00da2198b4b2d3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a18ff54d35650a8fa4a00da2198b4b2d3">&#9670;&nbsp;</a></span>vdo_stream_buffer_alloc()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VdoBuffer* vdo_stream_buffer_alloc </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gpointer&#160;</td>
          <td class="paramname"><em>opaque</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Allocates a new buffer for this stream. </p>
<p>Invoke this function in order to allocate a new buffer for this video stream. The <code>vdo</code> service performs the actual memory allocation and owns the buffer. A handle to the allocated buffer is returned in the form of a VdoBuffer.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This function is synchronous and will block until a response from the vdo service is received.</li>
<li>This function can only be invoked for non-encoded video streams.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">opaque</td><td>A user data pointer. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A VdoBuffer on success, <code>NULL</code> if error is set. </dd></dl>

</div>
</div>
<a id="a897b1e6d50e00aa8974511b4625cbad3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a897b1e6d50e00aa8974511b4625cbad3">&#9670;&nbsp;</a></span>vdo_stream_buffer_enqueue()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean vdo_stream_buffer_enqueue </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VdoBuffer *&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Enqueue a buffer for this video stream. </p>
<p>Invoking this function equeues the specified VdoBuffer in the internal queue of this video stream in order to be subsequently filled with frame data.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">buffer</td><td>A VdoBuffer. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> on success, <code>FALSE</code> if error is set. </dd></dl>

</div>
</div>
<a id="a5c13ae89ffee889aebf1a9b6c3bc3594"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5c13ae89ffee889aebf1a9b6c3bc3594">&#9670;&nbsp;</a></span>vdo_stream_buffer_unref()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean vdo_stream_buffer_unref </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VdoBuffer **&#160;</td>
          <td class="paramname"><em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Decreases the reference count for the specified buffer. </p>
<p>The buffer is freed by the vdo service when the reference count reaches 0.</p>
<dl class="section note"><dt>Note</dt><dd><ul>
<li>This function is synchronous and will block until a response from the vdo service is received.</li>
</ul>
</dd></dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">buffer</td><td>A pointer to a VdoBuffer pointer. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> on success, <code>FALSE</code> if error is set. </dd></dl>

</div>
</div>
<a id="a32ba781b100c13c7b70e0f700bbce268"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a32ba781b100c13c7b70e0f700bbce268">&#9670;&nbsp;</a></span>vdo_stream_force_key_frame()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean vdo_stream_force_key_frame </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Forces this video stream to insert a key frame. </p>
<p>This function is invoked in order to force a key frame into a video stream. Invoking this functionon a video stream with a format that is not a video format (e.g. H.264 or H.265) will have no effect.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> on success, <code>FALSE</code> if error is set. </dd></dl>

</div>
</div>
<a id="a07e12d4c5d79563413711dcdc6085171"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a07e12d4c5d79563413711dcdc6085171">&#9670;&nbsp;</a></span>vdo_stream_get()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVdoStream.html">VdoStream</a>* vdo_stream_get </td>
          <td>(</td>
          <td class="paramtype">guint&#160;</td>
          <td class="paramname"><em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get an existing video stream. </p>
<p>Create a new <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> object representing an existing video stream session with the specified id.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">id</td><td>A video stream id </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> or <code>NULL</code> on error. Free with <code>g_object_unref()</code>. </dd></dl>

</div>
</div>
<a id="ac21dc2bb1e463b20cca05213739e505c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ac21dc2bb1e463b20cca05213739e505c">&#9670;&nbsp;</a></span>vdo_stream_get_all()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">GList* vdo_stream_get_all </td>
          <td>(</td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets all existing video streams. </p>
<p>Create new <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> objects representing each existing video stream session and return those in a <code>GList</code>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <code>GList</code> containing <code><a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a></code> objects or <code>NULL</code> on error. Free with <code>g_list_free_full(list, g_object_unref)</code>. </dd></dl>

</div>
</div>
<a id="a021f68451699a9ca04aa0e67d9b2917e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a021f68451699a9ca04aa0e67d9b2917e">&#9670;&nbsp;</a></span>vdo_stream_get_buffer()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VdoBuffer* vdo_stream_get_buffer </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetches a VdoBuffer containing a frame. </p>
<p>Stream global settings which control the behavior of this function: "socket.blocking" (default: <code>TRUE</code>) "socket.timeout_ms"</p>
<p>The following errors are transient: <code>VDO_ERROR_NO_DATA</code> Recover by fetching the next buffer. The following errors are expected to occur during maintenance: <code>VDO_ERROR_INTERFACE_DOWN</code> Recover by waiting for the service to restart. Complete <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> reinitialization is necessary. All remaining errors are fatal: Complete <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> reinitialization is necessary.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> </td></tr>
    <tr><td class="paramname">error</td><td>Location to store an error or <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A VdoBuffer, or <code>NULL</code> if error is set. Free with <code>g_object_unref()</code>. </dd></dl>

</div>
</div>
<a id="af416bd3ec1edf4055c554e0f78b7b9f9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af416bd3ec1edf4055c554e0f78b7b9f9">&#9670;&nbsp;</a></span>vdo_stream_get_event()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVdoMap.html">VdoMap</a>* vdo_stream_get_event </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetches the next Event. </p>
<p>This function is always non-blocking, it is intended to be used together with <code>vdo_stream_get_event_fd</code> and <code>poll</code> to detect when new events occur.</p>
<p>See <code>VdoStreamEvent</code> for the list of possible events, the current event is returned in the <code><a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a></code> "event" field.</p>
<p>The following errors are transient: <code>VDO_ERROR_NO_EVENT</code> The equivalent of EAGAIN, i.e. there's currently no event. The following errors are expected to occur during maintenance: <code>VDO_ERROR_INTERFACE_DOWN</code> Recover by waiting for the service to restart. Complete <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> reinitialization is necessary. All remaining errors are fatal: Complete <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> reinitialization is necessary.</p>
<div class="fragment"><div class="line">g_autoptr(<a class="code" href="classVdoMap.html">VdoMap</a>) settings = <a class="code" href="vdo-map_8h.html#a98b0e304d19d397003f2cc0c774cc33f">vdo_map_new</a>();</div>
<div class="line">vdo_map_set_uint32(settings, <span class="stringliteral">&quot;intent&quot;</span>, <a class="code" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8ac4285a061f1f32323096a3609ef7e14e">VDO_INTENT_DEFAULT</a> | <a class="code" href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8a5765cb5e5a8f8bb598818850bd91f9ba">VDO_INTENT_EVENTFD</a>);</div>
<div class="line"> </div>
<div class="line">g_autoptr(<a class="code" href="classVdoStream.html">VdoStream</a>) stream = <a class="code" href="vdo-stream_8h.html#a36fa0021eb58d482c494163db9b22b61">vdo_stream_new</a>(settings, NULL, &amp;error);</div>
<div class="line"><span class="keywordflow">if</span> (!stream)</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">if</span> (!<a class="code" href="vdo-stream_8h.html#a5a366f51af1a7171a6739d191ca1e113">vdo_stream_start</a>(stream, &amp;error))</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keywordtype">int</span> fd = <a class="code" href="vdo-stream_8h.html#a81faad176c49398f0a0b9826fb7c31f8">vdo_stream_get_fd</a>(stream, &amp;error);</div>
<div class="line"><span class="keywordflow">if</span> (fd &lt; 0)</div>
<div class="line">  <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">struct </span>pollfd fds = {</div>
<div class="line">  .fd = fd,</div>
<div class="line">  .events = POLL_IN,</div>
<div class="line"> };</div>
<div class="line"> </div>
<div class="line"><span class="keywordflow">while</span> (1) {</div>
<div class="line">  <span class="keywordflow">if</span> (poll(&amp;fds, 1, -1) &lt; 1)</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">  g_autoptr(<a class="code" href="classVdoMap.html">VdoMap</a>) <span class="keyword">event</span> = <a class="code" href="vdo-stream_8h.html#af416bd3ec1edf4055c554e0f78b7b9f9">vdo_stream_get_event</a>(stream, &amp;error);</div>
<div class="line">  <span class="keywordflow">if</span> (!event)</div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  <span class="keywordflow">switch</span>(vdo_map_get_uint32(event, <span class="stringliteral">&quot;event&quot;</span>, <a class="code" href="vdo-types_8h.html#a9bba040fd7d1f8b5d5a104500f136c16a2eaecdfa56507e4edc41d734cbced832">VDO_STREAM_EVENT_NONE</a>)) {</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="vdo-types_8h.html#a9bba040fd7d1f8b5d5a104500f136c16a6b59450d51e3f36e9e00cfe941ea77ee">VDO_STREAM_EVENT_STARTED</a>: <span class="keywordflow">break</span>;</div>
<div class="line">  <span class="keywordflow">case</span> <a class="code" href="vdo-types_8h.html#a9bba040fd7d1f8b5d5a104500f136c16a5a26e14f380c40f3e59f55fc741cd7b9">VDO_STREAM_EVENT_STOPPED</a>: <span class="keywordflow">break</span>;</div>
<div class="line">  <span class="keywordflow">default</span>: <span class="keywordflow">break</span>;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="ttc" id="avdo-stream_8h_html_a36fa0021eb58d482c494163db9b22b61"><div class="ttname"><a href="vdo-stream_8h.html#a36fa0021eb58d482c494163db9b22b61">vdo_stream_new</a></div><div class="ttdeci">VdoStream * vdo_stream_new(VdoMap *settings, VdoBufferFinalizer fin, GError **error)</div><div class="ttdoc">Create a new VdoStream.</div></div>
<div class="ttc" id="avdo-stream_8h_html_a5a366f51af1a7171a6739d191ca1e113"><div class="ttname"><a href="vdo-stream_8h.html#a5a366f51af1a7171a6739d191ca1e113">vdo_stream_start</a></div><div class="ttdeci">gboolean vdo_stream_start(VdoStream *self, GError **error)</div><div class="ttdoc">Start this video stream.</div></div>
<div class="ttc" id="avdo-stream_8h_html_a81faad176c49398f0a0b9826fb7c31f8"><div class="ttname"><a href="vdo-stream_8h.html#a81faad176c49398f0a0b9826fb7c31f8">vdo_stream_get_fd</a></div><div class="ttdeci">gint vdo_stream_get_fd(VdoStream *self, GError **error)</div><div class="ttdoc">Returns a file descriptor representing the underlying socket connection.</div></div>
<div class="ttc" id="avdo-stream_8h_html_af416bd3ec1edf4055c554e0f78b7b9f9"><div class="ttname"><a href="vdo-stream_8h.html#af416bd3ec1edf4055c554e0f78b7b9f9">vdo_stream_get_event</a></div><div class="ttdeci">VdoMap * vdo_stream_get_event(VdoStream *self, GError **error)</div><div class="ttdoc">Fetches the next Event.</div></div>
<div class="ttc" id="avdo-types_8h_html_a9bba040fd7d1f8b5d5a104500f136c16a2eaecdfa56507e4edc41d734cbced832"><div class="ttname"><a href="vdo-types_8h.html#a9bba040fd7d1f8b5d5a104500f136c16a2eaecdfa56507e4edc41d734cbced832">VDO_STREAM_EVENT_NONE</a></div><div class="ttdeci">@ VDO_STREAM_EVENT_NONE</div><div class="ttdef"><b>Definition:</b> vdo-types.h:322</div></div>
<div class="ttc" id="avdo-types_8h_html_a9bba040fd7d1f8b5d5a104500f136c16a5a26e14f380c40f3e59f55fc741cd7b9"><div class="ttname"><a href="vdo-types_8h.html#a9bba040fd7d1f8b5d5a104500f136c16a5a26e14f380c40f3e59f55fc741cd7b9">VDO_STREAM_EVENT_STOPPED</a></div><div class="ttdeci">@ VDO_STREAM_EVENT_STOPPED</div><div class="ttdef"><b>Definition:</b> vdo-types.h:324</div></div>
<div class="ttc" id="avdo-types_8h_html_a9bba040fd7d1f8b5d5a104500f136c16a6b59450d51e3f36e9e00cfe941ea77ee"><div class="ttname"><a href="vdo-types_8h.html#a9bba040fd7d1f8b5d5a104500f136c16a6b59450d51e3f36e9e00cfe941ea77ee">VDO_STREAM_EVENT_STARTED</a></div><div class="ttdeci">@ VDO_STREAM_EVENT_STARTED</div><div class="ttdef"><b>Definition:</b> vdo-types.h:323</div></div>
<div class="ttc" id="avdo-types_8h_html_acaa9291dd03e128aa2097c75b0d65ab8ac4285a061f1f32323096a3609ef7e14e"><div class="ttname"><a href="vdo-types_8h.html#acaa9291dd03e128aa2097c75b0d65ab8ac4285a061f1f32323096a3609ef7e14e">VDO_INTENT_DEFAULT</a></div><div class="ttdeci">@ VDO_INTENT_DEFAULT</div><div class="ttdef"><b>Definition:</b> vdo-types.h:311</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> </td></tr>
    <tr><td class="paramname">error</td><td>Location to store an error or <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a>, or <code>NULL</code> if error is set. Free with <code>g_object_unref()</code>. </dd></dl>

</div>
</div>
<a id="acbdc222c597329e543ba85f330526b12"></a>
<h2 class="memtitle"><span class="permalink"><a href="#acbdc222c597329e543ba85f330526b12">&#9670;&nbsp;</a></span>vdo_stream_get_event_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gint vdo_stream_get_event_fd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a file descriptor for prioritized events. </p>
<p>This requires <code>VDO_INTENT_EVENTFD</code> and is intended to be used together with the <code>vdo_stream_get_event</code> function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor or -1 on error. </dd></dl>

</div>
</div>
<a id="a81faad176c49398f0a0b9826fb7c31f8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a81faad176c49398f0a0b9826fb7c31f8">&#9670;&nbsp;</a></span>vdo_stream_get_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gint vdo_stream_get_fd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns a file descriptor representing the underlying socket connection. </p>
<p>The file descriptor returned by this function represents the underlying socket based connection to the <code>vdo</code> service. The returned file descriptor can by used as an event source in an event loop to handle asynchronous I/O events.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A file descriptor or -1 on error. </dd></dl>

</div>
</div>
<a id="afbd3cb015a9d186123d534068db46749"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afbd3cb015a9d186123d534068db46749">&#9670;&nbsp;</a></span>vdo_stream_get_id()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">guint vdo_stream_get_id </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Returns the id of this video stream. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a></td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A video stream id. </dd></dl>

</div>
</div>
<a id="a6368c8c989cbea997947d433dce6a3cb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a6368c8c989cbea997947d433dce6a3cb">&#9670;&nbsp;</a></span>vdo_stream_get_info()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVdoMap.html">VdoMap</a>* vdo_stream_get_info </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the info for this video stream. </p>
<p>This function is called in order to get a pointer to the info map for this video stream. The returned pointer is a pointer to a newly allocated <a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a> owned by the caller of this function. For example:</p>
<div class="fragment"><div class="line"><a class="code" href="classVdoMap.html">VdoMap</a> *info = <a class="code" href="vdo-stream_8h.html#a6368c8c989cbea997947d433dce6a3cb">vdo_stream_get_info</a>(stream, &amp;error);</div>
<div class="line">guint value = vdo_map_get_uint32(info, <span class="stringliteral">&quot;name&quot;</span>, 0);</div>
<div class="line">g_object_unref(info);</div>
<div class="ttc" id="avdo-stream_8h_html_a6368c8c989cbea997947d433dce6a3cb"><div class="ttname"><a href="vdo-stream_8h.html#a6368c8c989cbea997947d433dce6a3cb">vdo_stream_get_info</a></div><div class="ttdeci">VdoMap * vdo_stream_get_info(VdoStream *self, GError **error)</div><div class="ttdoc">Get the info for this video stream.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a <a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a> owned by this video stream, or <code>NULL</code> if error is set. Free with <code>g_object_unref()</code>. </dd></dl>

</div>
</div>
<a id="ad1279257f13b9a406a0df2558f10123e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad1279257f13b9a406a0df2558f10123e">&#9670;&nbsp;</a></span>vdo_stream_get_settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVdoMap.html">VdoMap</a>* vdo_stream_get_settings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Get the settings for this video stream. </p>
<p>This function is called in order to get a pointer to the settings map for this video stream. The returned pointer is a pointer to a newly allocated <a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a> owned by the caller of this function. For example:</p>
<div class="fragment"><div class="line"><a class="code" href="classVdoMap.html">VdoMap</a> *settings = <a class="code" href="vdo-stream_8h.html#ad1279257f13b9a406a0df2558f10123e">vdo_stream_get_settings</a>(stream, &amp;error);</div>
<div class="line">guint value = vdo_map_get_uint32(settings, <span class="stringliteral">&quot;name&quot;</span>, 0);</div>
<div class="line">g_object_unref(settings);</div>
<div class="ttc" id="avdo-stream_8h_html_ad1279257f13b9a406a0df2558f10123e"><div class="ttname"><a href="vdo-stream_8h.html#ad1279257f13b9a406a0df2558f10123e">vdo_stream_get_settings</a></div><div class="ttdeci">VdoMap * vdo_stream_get_settings(VdoStream *self, GError **error)</div><div class="ttdoc">Get the settings for this video stream.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A pointer to a <a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a> owned by this video stream, or <code>NULL</code> if error is set. Free with <code>g_object_unref()</code>. </dd></dl>

</div>
</div>
<a id="a36fa0021eb58d482c494163db9b22b61"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a36fa0021eb58d482c494163db9b22b61">&#9670;&nbsp;</a></span>vdo_stream_new()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVdoStream.html">VdoStream</a>* vdo_stream_new </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoMap.html">VdoMap</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">VdoBufferFinalizer&#160;</td>
          <td class="paramname"><em>fin</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create a new <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </p>
<p>Create a new <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> object representing a video stream session.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>A <a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a> containing settings for the new video stream. </td></tr>
    <tr><td class="paramname">fin</td><td>The VdoBufferFinalizer is called before buffers are finalized. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> or <code>NULL</code> on error. Free with <code>g_object_unref()</code>. </dd></dl>

</div>
</div>
<a id="ad6b715a47f7998706514c25261c9b716"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad6b715a47f7998706514c25261c9b716">&#9670;&nbsp;</a></span>vdo_stream_play()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean vdo_stream_play </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVdoMap.html">VdoMap</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Play all buffered video and continue streaming live. </p>
<p>This function is invoked in order to play buffered video, it requires an already started buffering stream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">settings</td><td>A <a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a> controlling play or <code>NULL</code> for default. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> on success, <code>FALSE</code> if error is set. </dd></dl>

</div>
</div>
<a id="af43f6acfe327b99037ea1e046788e7b5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af43f6acfe327b99037ea1e046788e7b5">&#9670;&nbsp;</a></span>vdo_stream_set_framerate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean vdo_stream_set_framerate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gdouble&#160;</td>
          <td class="paramname"><em>framerate</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the framerate for this video stream. </p>
<p>This function is invoked in order to update the framerate of a video stream. For this API to be used, the stream needs one or more of the following stream settings to be applied before the stream is started:</p>
<p>1) Dynamic framerate is enabled (dynamic.framerate = TRUE) 2) Zipstream fps mode is set to dynamic (zip.fps_mode = 1)</p>
<div class="fragment"><div class="line">gdouble framerate = 30.0;</div>
<div class="line"><span class="keywordflow">if</span> (!<a class="code" href="vdo-stream_8h.html#af43f6acfe327b99037ea1e046788e7b5">vdo_stream_set_framerate</a>(stream, framerate, &amp;error)) {</div>
<div class="line">    g_error(<span class="stringliteral">&quot;Error: %s&quot;</span>, error-&gt;message);</div>
<div class="line">}</div>
<div class="ttc" id="avdo-stream_8h_html_af43f6acfe327b99037ea1e046788e7b5"><div class="ttname"><a href="vdo-stream_8h.html#af43f6acfe327b99037ea1e046788e7b5">vdo_stream_set_framerate</a></div><div class="ttdeci">gboolean vdo_stream_set_framerate(VdoStream *self, gdouble framerate, GError **error)</div><div class="ttdoc">Update the framerate for this video stream.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">framerate</td><td>A framerate. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> on success, <code>FALSE</code> if error is set. </dd></dl>

</div>
</div>
<a id="affa9aec868d9c2fd1f39f44aa63adaf2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#affa9aec868d9c2fd1f39f44aa63adaf2">&#9670;&nbsp;</a></span>vdo_stream_set_settings()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean vdo_stream_set_settings </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classVdoMap.html">VdoMap</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Update the settings for this video stream. </p>
<p>This function is invoked in order to update the settings of a video stream. The caller owns the <a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a> containing the new/updated settings.</p>
<div class="fragment"><div class="line"><a class="code" href="classVdoMap.html">VdoMap</a> *settings = <a class="code" href="vdo-map_8h.html#a98b0e304d19d397003f2cc0c774cc33f">vdo_map_new</a>();</div>
<div class="line">vdo_map_set_uint32(settings, <span class="stringliteral">&quot;name&quot;</span>, value);</div>
<div class="line"><span class="keywordflow">if</span> (!<a class="code" href="vdo-stream_8h.html#affa9aec868d9c2fd1f39f44aa63adaf2">vdo_stream_set_settings</a>(stream, settings, &amp;error)) {</div>
<div class="line">    g_error(<span class="stringliteral">&quot;Error: %s&quot;</span>, error-&gt;message);</div>
<div class="line">}</div>
<div class="line">g_object_unref(settings);</div>
<div class="ttc" id="avdo-stream_8h_html_affa9aec868d9c2fd1f39f44aa63adaf2"><div class="ttname"><a href="vdo-stream_8h.html#affa9aec868d9c2fd1f39f44aa63adaf2">vdo_stream_set_settings</a></div><div class="ttdeci">gboolean vdo_stream_set_settings(VdoStream *self, VdoMap *settings, GError **error)</div><div class="ttdoc">Update the settings for this video stream.</div></div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">settings</td><td>A <a class="el" href="classVdoMap.html" title="A class representing a dictionary mapping keys to values.">VdoMap</a> containing new/updated settings. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> on success, <code>FALSE</code> if error is set. </dd></dl>

</div>
</div>
<a id="a4b4c0f2124280bde265491c08bd2f47c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4b4c0f2124280bde265491c08bd2f47c">&#9670;&nbsp;</a></span>vdo_stream_snapshot()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">VdoBuffer* vdo_stream_snapshot </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoMap.html">VdoMap</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Fetches a single VdoBuffer containing a frame. </p>
<p>Convenience function for fetching a single frame. The setup and teardown overhead is too high for continuous streaming.</p>
<p>Free the buffer with g_object_unref.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>A map of stream settings </td></tr>
    <tr><td class="paramname">error</td><td>Location to store an error or <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A VdoBuffer, or <code>NULL</code> if error is set. Free with <code>g_object_unref()</code>. </dd></dl>

</div>
</div>
<a id="a5a366f51af1a7171a6739d191ca1e113"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a366f51af1a7171a6739d191ca1e113">&#9670;&nbsp;</a></span>vdo_stream_start()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean vdo_stream_start </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Start this video stream. </p>
<p>This function is invoked in order to start a video stream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
    <tr><td class="paramname">error</td><td>A location to return an error.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> on success, <code>FALSE</code> if error is set. </dd></dl>

</div>
</div>
<a id="a5e28776ff99b3ecf0b996630eacb4f89"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5e28776ff99b3ecf0b996630eacb4f89">&#9670;&nbsp;</a></span>vdo_stream_stop()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void vdo_stream_stop </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoStream.html">VdoStream</a> *&#160;</td>
          <td class="paramname"><em>self</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Stop this video stream. </p>
<p>This function is invoked in order to stop a video stream.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">self</td><td>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa327d3bc31376dd3edebc15a4491a13e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa327d3bc31376dd3edebc15a4491a13e">&#9670;&nbsp;</a></span>vdo_stream_to_fd()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="classVdoStream.html">VdoStream</a>* vdo_stream_to_fd </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classVdoMap.html">VdoMap</a> *&#160;</td>
          <td class="paramname"><em>settings</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>data_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>meta_fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create and start a new stream to already existing file descriptors. </p>
<p>This is a convenience function without <code>VdoBuffer</code> support, instead the stream will output data and metadata to two separate file descriptors.</p>
<p>NOTE: metadata is not implemented yet, set meta_fd to -1.</p>
<p>When done with the stream, free it with g_object_unref before closing the file descriptors.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">settings</td><td>A map of stream settings </td></tr>
    <tr><td class="paramname">data_fd</td><td>An fd to send stream data </td></tr>
    <tr><td class="paramname">meta_fd</td><td>An fd to send stream metadata </td></tr>
    <tr><td class="paramname">error</td><td>Location to store an error or <code>NULL</code> </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A <a class="el" href="classVdoStream.html" title="A video stream.">VdoStream</a> or <code>NULL</code> on error. Free with <code>g_object_unref()</code>. </dd></dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_97aefd0d527b934f1d99a682da8fe6a9.html">lib</a></li><li class="navelem"><a class="el" href="vdo-stream_8h.html">vdo-stream.h</a></li>
    <li class="footer">Copyright &copy; 2009-2024 Axis Communications AB. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
