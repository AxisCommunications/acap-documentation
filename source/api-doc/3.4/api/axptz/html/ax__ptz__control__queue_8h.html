<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AXptz: ax_ptz_control_queue.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="axis-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">AXptz
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('ax__ptz__control__queue_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#enum-members">Enumerations</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">ax_ptz_control_queue.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>The PTZ control queue and its functions.  
<a href="#details">More...</a></p>

<p><a href="ax__ptz__control__queue_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:ad90f93cfd83899d9ad972e1451522563"><td class="memItemLeft" align="right" valign="top"><a id="ad90f93cfd83899d9ad972e1451522563"></a>
typedef struct <a class="el" href="struct__AXPTZControlQueueGroup.html">_AXPTZControlQueueGroup</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__ptz__control__queue_8h.html#ad90f93cfd83899d9ad972e1451522563">AXPTZControlQueueGroup</a></td></tr>
<tr class="memdesc:ad90f93cfd83899d9ad972e1451522563"><td class="mdescLeft">&#160;</td><td class="mdescRight">An opaque structure for a group in the PTZ control queue. <br /></td></tr>
<tr class="separator:ad90f93cfd83899d9ad972e1451522563"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="enum-members"></a>
Enumerations</h2></td></tr>
<tr class="memitem:a13fa68ed37fa6b4f8eaad73a9d560c00"><td class="memItemLeft" align="right" valign="top">enum &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__ptz__control__queue_8h.html#a13fa68ed37fa6b4f8eaad73a9d560c00">AXPTZControlQueueRequest</a> { <a class="el" href="ax__ptz__control__queue_8h.html#a13fa68ed37fa6b4f8eaad73a9d560c00a0523b5aac4319ea94dd2caaf9a06d8b7">AX_PTZ_CONTROL_QUEUE_GET</a>, 
<a class="el" href="ax__ptz__control__queue_8h.html#a13fa68ed37fa6b4f8eaad73a9d560c00a8e9a1847761a05e5559adad94408b0ad">AX_PTZ_CONTROL_QUEUE_QUERY_STATUS</a>, 
<a class="el" href="ax__ptz__control__queue_8h.html#a13fa68ed37fa6b4f8eaad73a9d560c00a285e2aeec7503581ec6bcb16dbcf572d">AX_PTZ_CONTROL_QUEUE_DROP</a>, 
<a class="el" href="ax__ptz__control__queue_8h.html#a13fa68ed37fa6b4f8eaad73a9d560c00aa73cd265fae27c5f98b5e12b05d8634d">AX_PTZ_CONTROL_QUEUE_GET_TAKE_EQUAL_PRIORITY</a>
 }</td></tr>
<tr class="separator:a13fa68ed37fa6b4f8eaad73a9d560c00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:adf18020a0b42f43f5d9aec85070bf708"><td class="memItemLeft" align="right" valign="top">gboolean&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__ptz__control__queue_8h.html#adf18020a0b42f43f5d9aec85070bf708">ax_ptz_control_queue_request</a> (const <a class="el" href="ax__ptz__control__queue_8h.html#ad90f93cfd83899d9ad972e1451522563">AXPTZControlQueueGroup</a> *group, gint video_channel, <a class="el" href="ax__ptz__control__queue_8h.html#a13fa68ed37fa6b4f8eaad73a9d560c00">AXPTZControlQueueRequest</a> request, gint *queue_pos, gint *time_to_pos_one, gint *poll_time, GError **error)</td></tr>
<tr class="memdesc:adf18020a0b42f43f5d9aec85070bf708"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sends a request to the control queue. Possible requests are: <code>AX_PTZ_CONTROL_QUEUE_GET</code>, <code>AX_PTZ_CONTROL_QUEUE_QUERY_STATUS</code>, <code>AX_PTZ_CONTROL_QUEUE_DROP</code>, <code>AX_PTZ_CONTROL_QUEUE_GET_TAKE_EQUAL_PRIORITY</code>.  <a href="#adf18020a0b42f43f5d9aec85070bf708">More...</a><br /></td></tr>
<tr class="separator:adf18020a0b42f43f5d9aec85070bf708"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0a947fbcab7c23b577eaefdf9b6fa533"><td class="memItemLeft" align="right" valign="top"><a class="el" href="ax__ptz__control__queue_8h.html#ad90f93cfd83899d9ad972e1451522563">AXPTZControlQueueGroup</a> *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="ax__ptz__control__queue_8h.html#a0a947fbcab7c23b577eaefdf9b6fa533">ax_ptz_control_queue_get_app_group_instance</a> (GError **error)</td></tr>
<tr class="memdesc:a0a947fbcab7c23b577eaefdf9b6fa533"><td class="mdescLeft">&#160;</td><td class="mdescRight">Gets the application group instance from the PTZ control queue.  <a href="#a0a947fbcab7c23b577eaefdf9b6fa533">More...</a><br /></td></tr>
<tr class="separator:a0a947fbcab7c23b577eaefdf9b6fa533"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>The PTZ control queue and its functions. </p>
<h1><a class="anchor" id="control_queue"></a>
Control queue</h1>
<p><code>AXPTZControlQueue</code> and its member <code>AXPTZControlQueueGroup</code> are created when the AXPTZ library is initialized.</p>
<p><code>AXPTZControlQueueGroup</code> creates a queue group with the same name as the application and is added to the list of PTZ control queue groups in the Axis product. <code>AXPTZControlQueueGroup</code> must be used as input parameter when calling the absolute, relative and continuous movement functions in <code>AXPTZMovementHandler</code> and all preset functions in <code>AXPTZPresetHandler</code>.</p>
<p><code>AXPTZControlQueue</code> contains functions for interacting with the PTZ control queue. It is possible to request PTZ control (enter the control queue), to drop PTZ control (leave the queue) and to query the control queue for the application's current position. If the PTZ control queue is enabled in the Axis product, the application must get PTZ control (that is, first position in the queue), before calling any of the movement and preset functions that have <code>AXPTZControlQueueGroup</code> as input parameter. </p>
</div><h2 class="groupheader">Enumeration Type Documentation</h2>
<a id="a13fa68ed37fa6b4f8eaad73a9d560c00"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a13fa68ed37fa6b4f8eaad73a9d560c00">&#9670;&nbsp;</a></span>AXPTZControlQueueRequest</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="ax__ptz__control__queue_8h.html#a13fa68ed37fa6b4f8eaad73a9d560c00">AXPTZControlQueueRequest</a></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Available requests to the PTZ control queue. </p>
<table class="fieldtable">
<tr><th colspan="2">Enumerator</th></tr><tr><td class="fieldname"><a id="a13fa68ed37fa6b4f8eaad73a9d560c00a0523b5aac4319ea94dd2caaf9a06d8b7"></a>AX_PTZ_CONTROL_QUEUE_GET&#160;</td><td class="fielddoc"><p>Request PTZ control. The application will be placed in the PTZ control queue. </p>
</td></tr>
<tr><td class="fieldname"><a id="a13fa68ed37fa6b4f8eaad73a9d560c00a8e9a1847761a05e5559adad94408b0ad"></a>AX_PTZ_CONTROL_QUEUE_QUERY_STATUS&#160;</td><td class="fielddoc"><p>Query the queue for the application's current PTZ control status. </p>
</td></tr>
<tr><td class="fieldname"><a id="a13fa68ed37fa6b4f8eaad73a9d560c00a285e2aeec7503581ec6bcb16dbcf572d"></a>AX_PTZ_CONTROL_QUEUE_DROP&#160;</td><td class="fielddoc"><p>Drop PTZ control or leave the queue. </p>
</td></tr>
<tr><td class="fieldname"><a id="a13fa68ed37fa6b4f8eaad73a9d560c00aa73cd265fae27c5f98b5e12b05d8634d"></a>AX_PTZ_CONTROL_QUEUE_GET_TAKE_EQUAL_PRIORITY&#160;</td><td class="fielddoc"><p>Request PTZ control. The application will be placed in the queue and will take over PTZ control from clients with the same or lower priority. </p>
</td></tr>
</table>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="adf18020a0b42f43f5d9aec85070bf708"></a>
<h2 class="memtitle"><span class="permalink"><a href="#adf18020a0b42f43f5d9aec85070bf708">&#9670;&nbsp;</a></span>ax_ptz_control_queue_request()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">gboolean ax_ptz_control_queue_request </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="ax__ptz__control__queue_8h.html#ad90f93cfd83899d9ad972e1451522563">AXPTZControlQueueGroup</a> *&#160;</td>
          <td class="paramname"><em>group</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint&#160;</td>
          <td class="paramname"><em>video_channel</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="ax__ptz__control__queue_8h.html#a13fa68ed37fa6b4f8eaad73a9d560c00">AXPTZControlQueueRequest</a>&#160;</td>
          <td class="paramname"><em>request</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint *&#160;</td>
          <td class="paramname"><em>queue_pos</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint *&#160;</td>
          <td class="paramname"><em>time_to_pos_one</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">gint *&#160;</td>
          <td class="paramname"><em>poll_time</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Sends a request to the control queue. Possible requests are: <code>AX_PTZ_CONTROL_QUEUE_GET</code>, <code>AX_PTZ_CONTROL_QUEUE_QUERY_STATUS</code>, <code>AX_PTZ_CONTROL_QUEUE_DROP</code>, <code>AX_PTZ_CONTROL_QUEUE_GET_TAKE_EQUAL_PRIORITY</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">group</td><td>A group in the PTZ control queue. </td></tr>
    <tr><td class="paramname">video_channel</td><td>A video channel. Starts from video channel 1. </td></tr>
    <tr><td class="paramname">request</td><td>Type of PTZ control queue request: get, drop or query. </td></tr>
    <tr><td class="paramname">queue_pos</td><td>Returns the current position in the PTZ control queue. </td></tr>
    <tr><td class="paramname">time_to_pos_one</td><td>Returns the estimated time left to enter the first position in the queue. </td></tr>
    <tr><td class="paramname">poll_time</td><td>Returns the recommended poll time in seconds. To keep its position in the queue, the application must send a new query request within the poll time. </td></tr>
    <tr><td class="paramname">error</td><td>Return location for a <code>GError</code> or <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><code>TRUE</code> on success, <code>FALSE</code> on failure. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="axptzexample_8c-example.html#a45">axptzexample.c</a>.</dd>
</dl>
</div>
</div>
<a id="a0a947fbcab7c23b577eaefdf9b6fa533"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a0a947fbcab7c23b577eaefdf9b6fa533">&#9670;&nbsp;</a></span>ax_ptz_control_queue_get_app_group_instance()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="ax__ptz__control__queue_8h.html#ad90f93cfd83899d9ad972e1451522563">AXPTZControlQueueGroup</a>* ax_ptz_control_queue_get_app_group_instance </td>
          <td>(</td>
          <td class="paramtype">GError **&#160;</td>
          <td class="paramname"><em>error</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Gets the application group instance from the PTZ control queue. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">error</td><td>Return location for a <code>GError</code> or <code>NULL</code>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The application group instance on success, <code>NULL</code> on failure. </dd></dl>
<dl><dt><b>Examples: </b></dt><dd><a class="el" href="axptzexample_8c-example.html#a26">axptzexample.c</a>.</dd>
</dl>
</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="ax__ptz__control__queue_8h.html">ax_ptz_control_queue.h</a></li>
    <li class="footer">Copyright &copy; 2009-2021 Axis Communications AB. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
