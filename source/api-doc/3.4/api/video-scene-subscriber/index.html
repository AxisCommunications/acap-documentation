<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Video Scene Subscriber Library: Video Scene Subscriber</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="customdoxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Video Scene Subscriber Library
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('index.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="headertitle">
<div class="title">Video Scene Subscriber </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Client API for subscribing on video scene motion description.This library can be used to connect to the video scene provider service which runs the actual motion object tracking.</p>
<p>Scene motion description data is serialized using protobuf and can be deserialized using standard protobuf tools, see e.g. <a href="https://developers.google.com/protocol-buffers/">protocol-buffers</a> and <a href="https://github.com/protobuf-c/protobuf-c">protobuf-c</a>.</p>
<p>The coordinates are represented in a right-handed normalized system. The coordinate system used is specified by ONVIF. The x coordinate has positive direction to the right and range [-1.0,1.0]. The y coordinate has positive direction up and range [-1.0,1.0]. See <a href="https://www.onvif.org/specs/srv/analytics/ONVIF-Analytics-Service-Spec.pdf">ONVIF documentation</a> under "5.1.2.2 Spatial Relation" for more details. The coordinates are based on camera rotation 0 and are not changed even if the camera rotation is any other value.</p>
<p>A scene with motion description has:</p><ul>
<li>time: Timestamp of video frame closest to the tracking result. It is monotonic time in nanoseconds.</li>
<li>objects: Tracked motion objects.</li>
<li>events: Events of changes of tracked motion objects.</li>
</ul>
<p>Each tracked motion object has the following properties:</p><ul>
<li>id: The object's unique identification number that is a track over time.</li>
<li>confidence: How confident an object is considered by the tracker.</li>
<li>bounding_box: Describes the object's surrounding rectangle with the four lines (two points) left, top, right, bottom.</li>
<li>polygon: A list of coordinate points that represents the shape and location of the object.</li>
<li>velocity: Is the time derivative of the object's position, where the time unit is 1 second. Thus, for example a velocity of 1 in the x-direction means moving from x=0 to x=1 in one second, and the same applies for the y-direction.</li>
</ul>
<p>Events are used for changes in tracking of objects, such as object deleted, object split, and object merge. The type of event is specified with an action and refers to one or multiple object ids.</p><ul>
<li>event_delete: Object is deleted. Has only one id, so the object_id refers to the object that has been deleted (and object_ids is empty).</li>
<li>event_split: The object has split into two or more objects. The object_id is the source id and the object_ids are the target ids, i.e. one id is split into multiple ids.</li>
<li>event_merge: Two or more objects are merged together. The object_ids are the source ids and the object_id is the target id, i.e. multiple ids are merged into one id.</li>
</ul>
<p>See scene.proto (found in &lt;sdk path&gt;/usr/share/protobuf/scene.proto) for a detailed description of the protobuf format.</p>
<p>The scene data format versions previous to the protobuf version are deprecated! Use SCENE_PROTO_1.</p>
<p>The video scene motion description service is a shared resource. Good practice is to save system resources by stopping subscriptions when not needed.</p>
<p><a class="el" href="video__scene__subscriber_8h.html">C API documentation</a></p>
<p>Copyright (C) 2017-2020 Axis Communications AB, LUND, SWEDEN </p>
</div></div><!-- contents -->
</div><!-- doc-content -->
<!-- HTML footer for doxygen 1.8.13-->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Copyright &copy; 2009-2021 Axis Communications AB. All rights reserved.</li>
  </ul>
</div>
</body>
</html>
